import * as $rjs_core from '../../../runtime/core.js';import * as M0 from "../../../runtime/kernel.rkt.js";import * as M1 from "../../../runtime/unsafe.rkt.js";var generic_sort4782 = function(A4783, less_than_p4784, n4785) {var n_by_2_4786 = M1.unsafe_fxrshift(n4785,1);var n_by_2_plus_4787 = M1.unsafe_fx_(n4785,n_by_2_4786);var copying_mergesort4788 = function(Alo4789, Blo4790, n4791) {if (M1.unsafe_fx_eq_(n4791,1)!==false) {var if_res2960 = M1.unsafe_vector_set_bang_(A4783,Blo4790,M1.unsafe_vector_ref(A4783,Alo4789));} else {if (M1.unsafe_fx_eq_(n4791,2)!==false) {var x4792 = M1.unsafe_vector_ref(A4783,Alo4789);var y4793 = M1.unsafe_vector_ref(A4783,M1.unsafe_fx_plus_(Alo4789,1));if (false!==false) {var if_res2945 = less_than_p4784(false(y4793),false(x4792));} else {var if_res2945 = less_than_p4784(y4793,x4792);}if (if_res2945!==false) {M1.unsafe_vector_set_bang_(A4783,Blo4790,y4793);var if_res2946 = M1.unsafe_vector_set_bang_(A4783,M1.unsafe_fx_plus_(Blo4790,1),x4792);} else {M1.unsafe_vector_set_bang_(A4783,Blo4790,x4792);var if_res2946 = M1.unsafe_vector_set_bang_(A4783,M1.unsafe_fx_plus_(Blo4790,1),y4793);}var if_res2959 = if_res2946;} else {if (M1.unsafe_fx_lt_(n4791,16)!==false) {M1.unsafe_vector_set_bang_(A4783,Blo4790,M1.unsafe_vector_ref(A4783,Alo4789));var iloop4794 = function(i4795) {if (M1.unsafe_fx_lt_(i4795,n4791)!==false) {var ref_i4796 = M1.unsafe_vector_ref(A4783,M1.unsafe_fx_plus_(Alo4789,i4795));var jloop4797 = function(j4798) {var ref_j_14799 = M1.unsafe_vector_ref(A4783,M1.unsafe_fx_(j4798,1));if (M1.unsafe_fx_lt_(Blo4790,j4798)!==false) {if (false!==false) {var if_res2947 = less_than_p4784(false(ref_i4796),false(ref_j_14799));} else {var if_res2947 = less_than_p4784(ref_i4796,ref_j_14799);}var if_res2948 = if_res2947;} else {var if_res2948 = false;}if (if_res2948!==false) {M1.unsafe_vector_set_bang_(A4783,j4798,ref_j_14799);var if_res2949 = jloop4797(M1.unsafe_fx_(j4798,1));} else {M1.unsafe_vector_set_bang_(A4783,j4798,ref_i4796);var if_res2949 = iloop4794(M1.unsafe_fx_plus_(i4795,1));}return if_res2949;};var if_res2950 = jloop4797(M1.unsafe_fx_plus_(Blo4790,i4795));} else {var if_res2950 = M0.rvoid();}return if_res2950;};var if_res2958 = iloop4794(1);} else {var n_by_2_4800 = M1.unsafe_fxrshift(n4791,1);var n_by_2_plus_4801 = M1.unsafe_fx_(n4791,n_by_2_4800);var Amid14802 = M1.unsafe_fx_plus_(Alo4789,n_by_2_4800);var Amid24803 = M1.unsafe_fx_plus_(Alo4789,n_by_2_plus_4801);var Bmid14804 = M1.unsafe_fx_plus_(Blo4790,n_by_2_4800);copying_mergesort4788(Amid14802,Bmid14804,n_by_2_plus_4801);copying_mergesort4788(Alo4789,Amid24803,n_by_2_4800);var b24805 = M1.unsafe_fx_plus_(Blo4790,n4791);var loop4806 = function(a14807, b14808, c14809) {var x4810 = M1.unsafe_vector_ref(A4783,a14807);var y4811 = M1.unsafe_vector_ref(A4783,b14808);if (true!==false) {if (false!==false) {var if_res2951 = less_than_p4784(false(y4811),false(x4810));} else {var if_res2951 = less_than_p4784(y4811,x4810);}var if_res2953 = M0.not(if_res2951);} else {if (false!==false) {var if_res2952 = less_than_p4784(false(x4810),false(y4811));} else {var if_res2952 = less_than_p4784(x4810,y4811);}var if_res2953 = if_res2952;}if (if_res2953!==false) {M1.unsafe_vector_set_bang_(A4783,c14809,x4810);var a14812 = M1.unsafe_fx_plus_(a14807,1);var c14813 = M1.unsafe_fx_plus_(c14809,1);if (M1.unsafe_fx_lt_(c14813,b14808)!==false) {var if_res2954 = loop4806(a14812,b14808,c14813);} else {var if_res2954 = M0.rvoid();}var if_res2957 = if_res2954;} else {M1.unsafe_vector_set_bang_(A4783,c14809,y4811);var b14814 = M1.unsafe_fx_plus_(b14808,1);var c14815 = M1.unsafe_fx_plus_(c14809,1);if (M1.unsafe_fx_lt__eq_(b24805,b14814)!==false) {var loop4816 = function(a14817, c14818) {if (M1.unsafe_fx_lt_(c14818,b14814)!==false) {M1.unsafe_vector_set_bang_(A4783,c14818,M1.unsafe_vector_ref(A4783,a14817));var if_res2955 = loop4816(M1.unsafe_fx_plus_(a14817,1),M1.unsafe_fx_plus_(c14818,1));} else {var if_res2955 = M0.rvoid();}return if_res2955;};var if_res2956 = loop4816(a14807,c14815);} else {var if_res2956 = loop4806(a14807,b14814,c14815);}var if_res2957 = if_res2956;}return if_res2957;};var if_res2958 = loop4806(Amid24803,Bmid14804,Blo4790);}var if_res2959 = if_res2958;}var if_res2960 = if_res2959;}return if_res2960;};var Alo4819 = 0;var Amid14820 = n_by_2_4786;var Amid24821 = n_by_2_plus_4787;var Ahi4822 = n4785;var B1lo4823 = n4785;copying_mergesort4788(Amid14820,B1lo4823,n_by_2_plus_4787);if (M0.zero_p(n_by_2_4786)!==false) {var if_res2961 = M0.rvoid();} else {var if_res2961 = copying_mergesort4788(Alo4819,Amid24821,n_by_2_4786);}if_res2961;var b24824 = Ahi4822;var loop4825 = function(a14826, b14827, c14828) {var x4829 = M1.unsafe_vector_ref(A4783,a14826);var y4830 = M1.unsafe_vector_ref(A4783,b14827);if (false!==false) {if (false!==false) {var if_res2962 = less_than_p4784(false(y4830),false(x4829));} else {var if_res2962 = less_than_p4784(y4830,x4829);}var if_res2964 = M0.not(if_res2962);} else {if (false!==false) {var if_res2963 = less_than_p4784(false(x4829),false(y4830));} else {var if_res2963 = less_than_p4784(x4829,y4830);}var if_res2964 = if_res2963;}if (if_res2964!==false) {M1.unsafe_vector_set_bang_(A4783,c14828,x4829);var a14831 = M1.unsafe_fx_plus_(a14826,1);var c14832 = M1.unsafe_fx_plus_(c14828,1);if (M1.unsafe_fx_lt_(c14832,b14827)!==false) {var if_res2965 = loop4825(a14831,b14827,c14832);} else {var if_res2965 = M0.rvoid();}var if_res2968 = if_res2965;} else {M1.unsafe_vector_set_bang_(A4783,c14828,y4830);var b14833 = M1.unsafe_fx_plus_(b14827,1);var c14834 = M1.unsafe_fx_plus_(c14828,1);if (M1.unsafe_fx_lt__eq_(b24824,b14833)!==false) {var loop4835 = function(a14836, c14837) {if (M1.unsafe_fx_lt_(c14837,b14833)!==false) {M1.unsafe_vector_set_bang_(A4783,c14837,M1.unsafe_vector_ref(A4783,a14836));var if_res2966 = loop4835(M1.unsafe_fx_plus_(a14836,1),M1.unsafe_fx_plus_(c14837,1));} else {var if_res2966 = M0.rvoid();}return if_res2966;};var if_res2967 = loop4835(a14826,c14834);} else {var if_res2967 = loop4825(a14826,b14833,c14834);}var if_res2968 = if_res2967;}return if_res2968;};return loop4825(B1lo4823,Amid24821,Alo4819);};var generic_sort_by_key4838 = function(A4839, less_than_p4840, n4841, key4842) {var n_by_2_4843 = M1.unsafe_fxrshift(n4841,1);var n_by_2_plus_4844 = M1.unsafe_fx_(n4841,n_by_2_4843);var copying_mergesort4845 = function(Alo4846, Blo4847, n4848) {if (M1.unsafe_fx_eq_(n4848,1)!==false) {var if_res2984 = M1.unsafe_vector_set_bang_(A4839,Blo4847,M1.unsafe_vector_ref(A4839,Alo4846));} else {if (M1.unsafe_fx_eq_(n4848,2)!==false) {var x4849 = M1.unsafe_vector_ref(A4839,Alo4846);var y4850 = M1.unsafe_vector_ref(A4839,M1.unsafe_fx_plus_(Alo4846,1));if (key4842!==false) {var if_res2969 = less_than_p4840(key4842(y4850),key4842(x4849));} else {var if_res2969 = less_than_p4840(y4850,x4849);}if (if_res2969!==false) {M1.unsafe_vector_set_bang_(A4839,Blo4847,y4850);var if_res2970 = M1.unsafe_vector_set_bang_(A4839,M1.unsafe_fx_plus_(Blo4847,1),x4849);} else {M1.unsafe_vector_set_bang_(A4839,Blo4847,x4849);var if_res2970 = M1.unsafe_vector_set_bang_(A4839,M1.unsafe_fx_plus_(Blo4847,1),y4850);}var if_res2983 = if_res2970;} else {if (M1.unsafe_fx_lt_(n4848,16)!==false) {M1.unsafe_vector_set_bang_(A4839,Blo4847,M1.unsafe_vector_ref(A4839,Alo4846));var iloop4851 = function(i4852) {if (M1.unsafe_fx_lt_(i4852,n4848)!==false) {var ref_i4853 = M1.unsafe_vector_ref(A4839,M1.unsafe_fx_plus_(Alo4846,i4852));var jloop4854 = function(j4855) {var ref_j_14856 = M1.unsafe_vector_ref(A4839,M1.unsafe_fx_(j4855,1));if (M1.unsafe_fx_lt_(Blo4847,j4855)!==false) {if (key4842!==false) {var if_res2971 = less_than_p4840(key4842(ref_i4853),key4842(ref_j_14856));} else {var if_res2971 = less_than_p4840(ref_i4853,ref_j_14856);}var if_res2972 = if_res2971;} else {var if_res2972 = false;}if (if_res2972!==false) {M1.unsafe_vector_set_bang_(A4839,j4855,ref_j_14856);var if_res2973 = jloop4854(M1.unsafe_fx_(j4855,1));} else {M1.unsafe_vector_set_bang_(A4839,j4855,ref_i4853);var if_res2973 = iloop4851(M1.unsafe_fx_plus_(i4852,1));}return if_res2973;};var if_res2974 = jloop4854(M1.unsafe_fx_plus_(Blo4847,i4852));} else {var if_res2974 = M0.rvoid();}return if_res2974;};var if_res2982 = iloop4851(1);} else {var n_by_2_4857 = M1.unsafe_fxrshift(n4848,1);var n_by_2_plus_4858 = M1.unsafe_fx_(n4848,n_by_2_4857);var Amid14859 = M1.unsafe_fx_plus_(Alo4846,n_by_2_4857);var Amid24860 = M1.unsafe_fx_plus_(Alo4846,n_by_2_plus_4858);var Bmid14861 = M1.unsafe_fx_plus_(Blo4847,n_by_2_4857);copying_mergesort4845(Amid14859,Bmid14861,n_by_2_plus_4858);copying_mergesort4845(Alo4846,Amid24860,n_by_2_4857);var b24862 = M1.unsafe_fx_plus_(Blo4847,n4848);var loop4863 = function(a14864, b14865, c14866) {var x4867 = M1.unsafe_vector_ref(A4839,a14864);var y4868 = M1.unsafe_vector_ref(A4839,b14865);if (true!==false) {if (key4842!==false) {var if_res2975 = less_than_p4840(key4842(y4868),key4842(x4867));} else {var if_res2975 = less_than_p4840(y4868,x4867);}var if_res2977 = M0.not(if_res2975);} else {if (key4842!==false) {var if_res2976 = less_than_p4840(key4842(x4867),key4842(y4868));} else {var if_res2976 = less_than_p4840(x4867,y4868);}var if_res2977 = if_res2976;}if (if_res2977!==false) {M1.unsafe_vector_set_bang_(A4839,c14866,x4867);var a14869 = M1.unsafe_fx_plus_(a14864,1);var c14870 = M1.unsafe_fx_plus_(c14866,1);if (M1.unsafe_fx_lt_(c14870,b14865)!==false) {var if_res2978 = loop4863(a14869,b14865,c14870);} else {var if_res2978 = M0.rvoid();}var if_res2981 = if_res2978;} else {M1.unsafe_vector_set_bang_(A4839,c14866,y4868);var b14871 = M1.unsafe_fx_plus_(b14865,1);var c14872 = M1.unsafe_fx_plus_(c14866,1);if (M1.unsafe_fx_lt__eq_(b24862,b14871)!==false) {var loop4873 = function(a14874, c14875) {if (M1.unsafe_fx_lt_(c14875,b14871)!==false) {M1.unsafe_vector_set_bang_(A4839,c14875,M1.unsafe_vector_ref(A4839,a14874));var if_res2979 = loop4873(M1.unsafe_fx_plus_(a14874,1),M1.unsafe_fx_plus_(c14875,1));} else {var if_res2979 = M0.rvoid();}return if_res2979;};var if_res2980 = loop4873(a14864,c14872);} else {var if_res2980 = loop4863(a14864,b14871,c14872);}var if_res2981 = if_res2980;}return if_res2981;};var if_res2982 = loop4863(Amid24860,Bmid14861,Blo4847);}var if_res2983 = if_res2982;}var if_res2984 = if_res2983;}return if_res2984;};var Alo4876 = 0;var Amid14877 = n_by_2_4843;var Amid24878 = n_by_2_plus_4844;var Ahi4879 = n4841;var B1lo4880 = n4841;copying_mergesort4845(Amid14877,B1lo4880,n_by_2_plus_4844);if (M0.zero_p(n_by_2_4843)!==false) {var if_res2985 = M0.rvoid();} else {var if_res2985 = copying_mergesort4845(Alo4876,Amid24878,n_by_2_4843);}if_res2985;var b24881 = Ahi4879;var loop4882 = function(a14883, b14884, c14885) {var x4886 = M1.unsafe_vector_ref(A4839,a14883);var y4887 = M1.unsafe_vector_ref(A4839,b14884);if (false!==false) {if (key4842!==false) {var if_res2986 = less_than_p4840(key4842(y4887),key4842(x4886));} else {var if_res2986 = less_than_p4840(y4887,x4886);}var if_res2988 = M0.not(if_res2986);} else {if (key4842!==false) {var if_res2987 = less_than_p4840(key4842(x4886),key4842(y4887));} else {var if_res2987 = less_than_p4840(x4886,y4887);}var if_res2988 = if_res2987;}if (if_res2988!==false) {M1.unsafe_vector_set_bang_(A4839,c14885,x4886);var a14888 = M1.unsafe_fx_plus_(a14883,1);var c14889 = M1.unsafe_fx_plus_(c14885,1);if (M1.unsafe_fx_lt_(c14889,b14884)!==false) {var if_res2989 = loop4882(a14888,b14884,c14889);} else {var if_res2989 = M0.rvoid();}var if_res2992 = if_res2989;} else {M1.unsafe_vector_set_bang_(A4839,c14885,y4887);var b14890 = M1.unsafe_fx_plus_(b14884,1);var c14891 = M1.unsafe_fx_plus_(c14885,1);if (M1.unsafe_fx_lt__eq_(b24881,b14890)!==false) {var loop4892 = function(a14893, c14894) {if (M1.unsafe_fx_lt_(c14894,b14890)!==false) {M1.unsafe_vector_set_bang_(A4839,c14894,M1.unsafe_vector_ref(A4839,a14893));var if_res2990 = loop4892(M1.unsafe_fx_plus_(a14893,1),M1.unsafe_fx_plus_(c14894,1));} else {var if_res2990 = M0.rvoid();}return if_res2990;};var if_res2991 = loop4892(a14883,c14891);} else {var if_res2991 = loop4882(a14883,b14890,c14891);}var if_res2992 = if_res2991;}return if_res2992;};return loop4882(B1lo4880,Amid24878,Alo4876);};var cl3100 = function(lst4895, less_than_p4896) {var n4897 = M0.length(lst4895);if (M1.unsafe_fx_eq_(n4897,0)!==false) {var if_res3124 = lst4895;} else {if (false!==false) {var vec4898 = M0.make_vector(n4897+M0.ceiling(n4897/2));var loop4899 = function(i4900, lst4901) {if (M0.pair_p(lst4901)!==false) {var x4902 = M0.car(lst4901);M1.unsafe_vector_set_bang_(vec4898,i4900,M0.cons(false(x4902),x4902));var if_res3104 = loop4899(M1.unsafe_fx_plus_(i4900,1),M0.cdr(lst4901));} else {var if_res3104 = M0.rvoid();}return if_res3104;};loop4899(0,lst4895);generic_sort_by_key4838(vec4898,less_than_p4896,n4897,M1.unsafe_car);var loop4903 = function(i4904, r4905) {var i4906 = M1.unsafe_fx_(i4904,1);if (M1.unsafe_fx_lt_(i4906,0)!==false) {var if_res3105 = r4905;} else {var if_res3105 = loop4903(i4906,M0.cons(M1.unsafe_cdr(M1.unsafe_vector_ref(vec4898,i4906)),r4905));}return if_res3105;};var if_res3123 = loop4903(n4897,$rjs_core.Pair.makeList());} else {var loop4907 = function(last4908, next4909) {var or_part4910 = M0.null_p(next4909);if (or_part4910!==false) {var if_res3108 = or_part4910;} else {if (false!==false) {var if_res3106 = less_than_p4896(false(M1.unsafe_car(next4909)),false(last4908));} else {var if_res3106 = less_than_p4896(M1.unsafe_car(next4909),last4908);}if (M0.not(if_res3106)!==false) {var if_res3107 = loop4907(M1.unsafe_car(next4909),M1.unsafe_cdr(next4909));} else {var if_res3107 = false;}var if_res3108 = if_res3107;}return if_res3108;};if (loop4907(M0.car(lst4895),M0.cdr(lst4895))!==false) {var if_res3122 = lst4895;} else {if (M1.unsafe_fx_lt__eq_(n4897,3)!==false) {if (M1.unsafe_fx_eq_(n4897,1)!==false) {var if_res3118 = lst4895;} else {if (M1.unsafe_fx_eq_(n4897,2)!==false) {var if_res3117 = M0.list(M0.cadr(lst4895),M0.car(lst4895));} else {var a4911 = M0.car(lst4895);var b4912 = M0.cadr(lst4895);var c4913 = M0.caddr(lst4895);if (false!==false) {var if_res3109 = less_than_p4896(false(b4912),false(a4911));} else {var if_res3109 = less_than_p4896(b4912,a4911);}if (if_res3109!==false) {if (false!==false) {var if_res3110 = less_than_p4896(false(c4913),false(b4912));} else {var if_res3110 = less_than_p4896(c4913,b4912);}if (if_res3110!==false) {var if_res3113 = M0.list(c4913,b4912,a4911);} else {if (false!==false) {var if_res3111 = less_than_p4896(false(c4913),false(a4911));} else {var if_res3111 = less_than_p4896(c4913,a4911);}if (if_res3111!==false) {var if_res3112 = M0.list(b4912,c4913,a4911);} else {var if_res3112 = M0.list(b4912,a4911,c4913);}var if_res3113 = if_res3112;}var if_res3116 = if_res3113;} else {if (false!==false) {var if_res3114 = less_than_p4896(false(c4913),false(a4911));} else {var if_res3114 = less_than_p4896(c4913,a4911);}if (if_res3114!==false) {var if_res3115 = M0.list(c4913,a4911,b4912);} else {var if_res3115 = M0.list(a4911,c4913,b4912);}var if_res3116 = if_res3115;}var if_res3117 = if_res3116;}var if_res3118 = if_res3117;}var if_res3121 = if_res3118;} else {var vec4914 = M0.make_vector(n4897+M0.ceiling(n4897/2));var loop4915 = function(i4916, lst4917) {if (M0.pair_p(lst4917)!==false) {M0.vector_set_bang_(vec4914,i4916,M0.car(lst4917));var if_res3119 = loop4915(M0.add1(i4916),M0.cdr(lst4917));} else {var if_res3119 = M0.rvoid();}return if_res3119;};loop4915(0,lst4895);generic_sort4782(vec4914,less_than_p4896,n4897);var loop4918 = function(i4919, r4920) {var i4921 = M0.sub1(i4919);if (M0.__lt_(i4921,0)!==false) {var if_res3120 = r4920;} else {var if_res3120 = loop4918(i4921,M0.cons(M0.vector_ref(vec4914,i4921),r4920));}return if_res3120;};var if_res3121 = loop4918(n4897,$rjs_core.Pair.makeList());}var if_res3122 = if_res3121;}var if_res3123 = if_res3122;}var if_res3124 = if_res3123;}return if_res3124;};var cl3101 = function(lst4922, less_than_p4923, getkey4924) {if (getkey4924!==false) {var if_res3125 = M0.not(M0.eq_p(M0.values,getkey4924));} else {var if_res3125 = false;}if (if_res3125!==false) {var if_res3126 = sort(lst4922,less_than_p4923,getkey4924,false);} else {var if_res3126 = sort(lst4922,less_than_p4923);}return if_res3126;};var cl3102 = function(lst4925, less_than_p4926, getkey4927, cache_keys_p4928) {if (getkey4927!==false) {var if_res3127 = M0.not(M0.eq_p(M0.values,getkey4927));} else {var if_res3127 = false;}if (if_res3127!==false) {var n4929 = M0.length(lst4925);if (M1.unsafe_fx_eq_(n4929,0)!==false) {var if_res3148 = lst4925;} else {if (cache_keys_p4928!==false) {var vec4930 = M0.make_vector(n4929+M0.ceiling(n4929/2));var loop4931 = function(i4932, lst4933) {if (M0.pair_p(lst4933)!==false) {var x4934 = M0.car(lst4933);M1.unsafe_vector_set_bang_(vec4930,i4932,M0.cons(getkey4927(x4934),x4934));var if_res3128 = loop4931(M1.unsafe_fx_plus_(i4932,1),M0.cdr(lst4933));} else {var if_res3128 = M0.rvoid();}return if_res3128;};loop4931(0,lst4925);generic_sort_by_key4838(vec4930,less_than_p4926,n4929,M1.unsafe_car);var loop4935 = function(i4936, r4937) {var i4938 = M1.unsafe_fx_(i4936,1);if (M1.unsafe_fx_lt_(i4938,0)!==false) {var if_res3129 = r4937;} else {var if_res3129 = loop4935(i4938,M0.cons(M1.unsafe_cdr(M1.unsafe_vector_ref(vec4930,i4938)),r4937));}return if_res3129;};var if_res3147 = loop4935(n4929,$rjs_core.Pair.makeList());} else {var loop4939 = function(last4940, next4941) {var or_part4942 = M0.null_p(next4941);if (or_part4942!==false) {var if_res3132 = or_part4942;} else {if (getkey4927!==false) {var if_res3130 = less_than_p4926(getkey4927(M1.unsafe_car(next4941)),getkey4927(last4940));} else {var if_res3130 = less_than_p4926(M1.unsafe_car(next4941),last4940);}if (M0.not(if_res3130)!==false) {var if_res3131 = loop4939(M1.unsafe_car(next4941),M1.unsafe_cdr(next4941));} else {var if_res3131 = false;}var if_res3132 = if_res3131;}return if_res3132;};if (loop4939(M0.car(lst4925),M0.cdr(lst4925))!==false) {var if_res3146 = lst4925;} else {if (M1.unsafe_fx_lt__eq_(n4929,3)!==false) {if (M1.unsafe_fx_eq_(n4929,1)!==false) {var if_res3142 = lst4925;} else {if (M1.unsafe_fx_eq_(n4929,2)!==false) {var if_res3141 = M0.list(M0.cadr(lst4925),M0.car(lst4925));} else {var a4943 = M0.car(lst4925);var b4944 = M0.cadr(lst4925);var c4945 = M0.caddr(lst4925);if (getkey4927!==false) {var if_res3133 = less_than_p4926(getkey4927(b4944),getkey4927(a4943));} else {var if_res3133 = less_than_p4926(b4944,a4943);}if (if_res3133!==false) {if (getkey4927!==false) {var if_res3134 = less_than_p4926(getkey4927(c4945),getkey4927(b4944));} else {var if_res3134 = less_than_p4926(c4945,b4944);}if (if_res3134!==false) {var if_res3137 = M0.list(c4945,b4944,a4943);} else {if (getkey4927!==false) {var if_res3135 = less_than_p4926(getkey4927(c4945),getkey4927(a4943));} else {var if_res3135 = less_than_p4926(c4945,a4943);}if (if_res3135!==false) {var if_res3136 = M0.list(b4944,c4945,a4943);} else {var if_res3136 = M0.list(b4944,a4943,c4945);}var if_res3137 = if_res3136;}var if_res3140 = if_res3137;} else {if (getkey4927!==false) {var if_res3138 = less_than_p4926(getkey4927(c4945),getkey4927(a4943));} else {var if_res3138 = less_than_p4926(c4945,a4943);}if (if_res3138!==false) {var if_res3139 = M0.list(c4945,a4943,b4944);} else {var if_res3139 = M0.list(a4943,c4945,b4944);}var if_res3140 = if_res3139;}var if_res3141 = if_res3140;}var if_res3142 = if_res3141;}var if_res3145 = if_res3142;} else {var vec4946 = M0.make_vector(n4929+M0.ceiling(n4929/2));var loop4947 = function(i4948, lst4949) {if (M0.pair_p(lst4949)!==false) {M0.vector_set_bang_(vec4946,i4948,M0.car(lst4949));var if_res3143 = loop4947(M0.add1(i4948),M0.cdr(lst4949));} else {var if_res3143 = M0.rvoid();}return if_res3143;};loop4947(0,lst4925);generic_sort_by_key4838(vec4946,less_than_p4926,n4929,getkey4927);var loop4950 = function(i4951, r4952) {var i4953 = M0.sub1(i4951);if (M0.__lt_(i4953,0)!==false) {var if_res3144 = r4952;} else {var if_res3144 = loop4950(i4953,M0.cons(M0.vector_ref(vec4946,i4953),r4952));}return if_res3144;};var if_res3145 = loop4950(n4929,$rjs_core.Pair.makeList());}var if_res3146 = if_res3145;}var if_res3147 = if_res3146;}var if_res3148 = if_res3147;}var if_res3149 = if_res3148;} else {var if_res3149 = sort(lst4925,less_than_p4926);}return if_res3149;};var temp3150 = $rjs_core.attachProcedureArity(function() {var fixed_lam3103 = {'2':cl3100,'3':cl3101,'4':cl3102}[arguments.length];if (fixed_lam3103!==undefined) {return fixed_lam3103.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[2,3,4]);var cl3046 = function(vec4954, less_than_p4955, start4956, end4957) {var n4958 = end4957-start4956;if (true!==false) {var if_res3049 = M0.make_vector(n4958);} else {var if_res3049 = vec4954;}var dst_vec4959 = if_res3049;if (true!==false) {var if_res3050 = 0;} else {var if_res3050 = start4956;}var dst_start4960 = if_res3050;if (M1.unsafe_fx_eq_(n4958,0)!==false) {var if_res3071 = M0.rvoid();} else {if (false!==false) {var work_vec4961 = M0.make_vector(n4958+M0.ceiling(n4958/2),true);var loop4962 = function(i4963) {if (M1.unsafe_fx_lt_(i4963,n4958)!==false) {var x4964 = M1.unsafe_vector_ref(vec4954,M1.unsafe_fx_plus_(i4963,start4956));M1.unsafe_vector_set_bang_(work_vec4961,i4963,M0.cons(false(x4964),x4964));var if_res3051 = loop4962(M1.unsafe_fx_plus_(i4963,1));} else {var if_res3051 = M0.rvoid();}return if_res3051;};loop4962(0);generic_sort_by_key4838(work_vec4961,less_than_p4955,n4958,M1.unsafe_car);var loop4965 = function(i4966) {if (M1.unsafe_fx_lt_(i4966,n4958)!==false) {M1.unsafe_vector_set_bang_(dst_vec4959,M1.unsafe_fx_plus_(i4966,dst_start4960),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec4961,i4966)));var if_res3052 = loop4965(M1.unsafe_fx_plus_(i4966,1));} else {var if_res3052 = M0.rvoid();}return if_res3052;};var if_res3070 = loop4965(0);} else {var loop4967 = function(prev_val4968, next_index4969) {var or_part4970 = M1.unsafe_fx_eq_(next_index4969,end4957);if (or_part4970!==false) {var if_res3055 = or_part4970;} else {var next_val4971 = M1.unsafe_vector_ref(vec4954,next_index4969);if (false!==false) {var if_res3053 = less_than_p4955(false(next_val4971),false(prev_val4968));} else {var if_res3053 = less_than_p4955(next_val4971,prev_val4968);}if (M0.not(if_res3053)!==false) {var if_res3054 = loop4967(next_val4971,M1.unsafe_fx_plus_(next_index4969,1));} else {var if_res3054 = false;}var if_res3055 = if_res3054;}return if_res3055;};if (loop4967(M1.unsafe_vector_ref(vec4954,start4956),M1.unsafe_fx_plus_(start4956,1))!==false) {if (true!==false) {var if_res3056 = M0.vector_copy_bang_(dst_vec4959,dst_start4960,vec4954,start4956,end4957);} else {var if_res3056 = M0.rvoid();}var if_res3069 = if_res3056;} else {if (M1.unsafe_fx_lt__eq_(n4958,3)!==false) {if (true!==false) {var if_res3057 = M0.vector_copy_bang_(dst_vec4959,dst_start4960,vec4954,start4956,end4957);} else {var if_res3057 = M0.rvoid();}if_res3057;if (M1.unsafe_fx_eq_(n4958,1)!==false) {var if_res3067 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n4958,2)!==false) {var tmp4972 = M1.unsafe_vector_ref(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,0));M1.unsafe_vector_set_bang_(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,0),M1.unsafe_vector_ref(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,1)));var if_res3066 = M1.unsafe_vector_set_bang_(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,1),tmp4972);} else {var a4973 = M1.unsafe_vector_ref(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,0));var b4974 = M1.unsafe_vector_ref(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,1));var c4975 = M1.unsafe_vector_ref(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,2));if (false!==false) {var if_res3058 = less_than_p4955(false(b4974),false(a4973));} else {var if_res3058 = less_than_p4955(b4974,a4973);}if (if_res3058!==false) {if (false!==false) {var if_res3059 = less_than_p4955(false(c4975),false(b4974));} else {var if_res3059 = less_than_p4955(c4975,b4974);}if (if_res3059!==false) {M1.unsafe_vector_set_bang_(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,0),c4975);var if_res3062 = M1.unsafe_vector_set_bang_(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,2),a4973);} else {if (false!==false) {var if_res3060 = less_than_p4955(false(c4975),false(a4973));} else {var if_res3060 = less_than_p4955(c4975,a4973);}if (if_res3060!==false) {M1.unsafe_vector_set_bang_(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,0),b4974);M1.unsafe_vector_set_bang_(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,1),c4975);var if_res3061 = M1.unsafe_vector_set_bang_(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,2),a4973);} else {M1.unsafe_vector_set_bang_(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,0),b4974);var if_res3061 = M1.unsafe_vector_set_bang_(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,1),a4973);}var if_res3062 = if_res3061;}var if_res3065 = if_res3062;} else {if (false!==false) {var if_res3063 = less_than_p4955(false(c4975),false(a4973));} else {var if_res3063 = less_than_p4955(c4975,a4973);}if (if_res3063!==false) {M1.unsafe_vector_set_bang_(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,0),c4975);M1.unsafe_vector_set_bang_(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,1),a4973);var if_res3064 = M1.unsafe_vector_set_bang_(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,2),b4974);} else {M1.unsafe_vector_set_bang_(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,1),c4975);var if_res3064 = M1.unsafe_vector_set_bang_(dst_vec4959,M1.unsafe_fx_plus_(dst_start4960,2),b4974);}var if_res3065 = if_res3064;}var if_res3066 = if_res3065;}var if_res3067 = if_res3066;}var if_res3068 = if_res3067;} else {var work_vec4976 = M0.make_vector(n4958+M0.ceiling(n4958/2),false);M0.vector_copy_bang_(work_vec4976,0,vec4954,start4956,end4957);generic_sort4782(work_vec4976,less_than_p4955,n4958);var if_res3068 = M0.vector_copy_bang_(dst_vec4959,dst_start4960,work_vec4976,0,n4958);}var if_res3069 = if_res3068;}var if_res3070 = if_res3069;}var if_res3071 = if_res3070;}if_res3071;if (true!==false) {var if_res3072 = dst_vec4959;} else {var if_res3072 = M0.rvoid();}return if_res3072;};var cl3047 = function(vec4977, less_than_p4978, start4979, end4980, getkey4981, cache_keys_p4982) {if (getkey4981!==false) {var if_res3073 = M0.not(M0.eq_p(M0.values,getkey4981));} else {var if_res3073 = false;}if (if_res3073!==false) {var n4983 = end4980-start4979;if (true!==false) {var if_res3074 = M0.make_vector(n4983);} else {var if_res3074 = vec4977;}var dst_vec4984 = if_res3074;if (true!==false) {var if_res3075 = 0;} else {var if_res3075 = start4979;}var dst_start4985 = if_res3075;if (M1.unsafe_fx_eq_(n4983,0)!==false) {var if_res3096 = M0.rvoid();} else {if (cache_keys_p4982!==false) {var work_vec4986 = M0.make_vector(n4983+M0.ceiling(n4983/2),true);var loop4987 = function(i4988) {if (M1.unsafe_fx_lt_(i4988,n4983)!==false) {var x4989 = M1.unsafe_vector_ref(vec4977,M1.unsafe_fx_plus_(i4988,start4979));M1.unsafe_vector_set_bang_(work_vec4986,i4988,M0.cons(getkey4981(x4989),x4989));var if_res3076 = loop4987(M1.unsafe_fx_plus_(i4988,1));} else {var if_res3076 = M0.rvoid();}return if_res3076;};loop4987(0);generic_sort_by_key4838(work_vec4986,less_than_p4978,n4983,M1.unsafe_car);var loop4990 = function(i4991) {if (M1.unsafe_fx_lt_(i4991,n4983)!==false) {M1.unsafe_vector_set_bang_(dst_vec4984,M1.unsafe_fx_plus_(i4991,dst_start4985),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec4986,i4991)));var if_res3077 = loop4990(M1.unsafe_fx_plus_(i4991,1));} else {var if_res3077 = M0.rvoid();}return if_res3077;};var if_res3095 = loop4990(0);} else {var loop4992 = function(prev_val4993, next_index4994) {var or_part4995 = M1.unsafe_fx_eq_(next_index4994,end4980);if (or_part4995!==false) {var if_res3080 = or_part4995;} else {var next_val4996 = M1.unsafe_vector_ref(vec4977,next_index4994);if (getkey4981!==false) {var if_res3078 = less_than_p4978(getkey4981(next_val4996),getkey4981(prev_val4993));} else {var if_res3078 = less_than_p4978(next_val4996,prev_val4993);}if (M0.not(if_res3078)!==false) {var if_res3079 = loop4992(next_val4996,M1.unsafe_fx_plus_(next_index4994,1));} else {var if_res3079 = false;}var if_res3080 = if_res3079;}return if_res3080;};if (loop4992(M1.unsafe_vector_ref(vec4977,start4979),M1.unsafe_fx_plus_(start4979,1))!==false) {if (true!==false) {var if_res3081 = M0.vector_copy_bang_(dst_vec4984,dst_start4985,vec4977,start4979,end4980);} else {var if_res3081 = M0.rvoid();}var if_res3094 = if_res3081;} else {if (M1.unsafe_fx_lt__eq_(n4983,3)!==false) {if (true!==false) {var if_res3082 = M0.vector_copy_bang_(dst_vec4984,dst_start4985,vec4977,start4979,end4980);} else {var if_res3082 = M0.rvoid();}if_res3082;if (M1.unsafe_fx_eq_(n4983,1)!==false) {var if_res3092 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n4983,2)!==false) {var tmp4997 = M1.unsafe_vector_ref(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,0));M1.unsafe_vector_set_bang_(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,0),M1.unsafe_vector_ref(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,1)));var if_res3091 = M1.unsafe_vector_set_bang_(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,1),tmp4997);} else {var a4998 = M1.unsafe_vector_ref(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,0));var b4999 = M1.unsafe_vector_ref(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,1));var c5000 = M1.unsafe_vector_ref(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,2));if (getkey4981!==false) {var if_res3083 = less_than_p4978(getkey4981(b4999),getkey4981(a4998));} else {var if_res3083 = less_than_p4978(b4999,a4998);}if (if_res3083!==false) {if (getkey4981!==false) {var if_res3084 = less_than_p4978(getkey4981(c5000),getkey4981(b4999));} else {var if_res3084 = less_than_p4978(c5000,b4999);}if (if_res3084!==false) {M1.unsafe_vector_set_bang_(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,0),c5000);var if_res3087 = M1.unsafe_vector_set_bang_(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,2),a4998);} else {if (getkey4981!==false) {var if_res3085 = less_than_p4978(getkey4981(c5000),getkey4981(a4998));} else {var if_res3085 = less_than_p4978(c5000,a4998);}if (if_res3085!==false) {M1.unsafe_vector_set_bang_(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,0),b4999);M1.unsafe_vector_set_bang_(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,1),c5000);var if_res3086 = M1.unsafe_vector_set_bang_(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,2),a4998);} else {M1.unsafe_vector_set_bang_(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,0),b4999);var if_res3086 = M1.unsafe_vector_set_bang_(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,1),a4998);}var if_res3087 = if_res3086;}var if_res3090 = if_res3087;} else {if (getkey4981!==false) {var if_res3088 = less_than_p4978(getkey4981(c5000),getkey4981(a4998));} else {var if_res3088 = less_than_p4978(c5000,a4998);}if (if_res3088!==false) {M1.unsafe_vector_set_bang_(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,0),c5000);M1.unsafe_vector_set_bang_(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,1),a4998);var if_res3089 = M1.unsafe_vector_set_bang_(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,2),b4999);} else {M1.unsafe_vector_set_bang_(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,1),c5000);var if_res3089 = M1.unsafe_vector_set_bang_(dst_vec4984,M1.unsafe_fx_plus_(dst_start4985,2),b4999);}var if_res3090 = if_res3089;}var if_res3091 = if_res3090;}var if_res3092 = if_res3091;}var if_res3093 = if_res3092;} else {var work_vec5001 = M0.make_vector(n4983+M0.ceiling(n4983/2),false);M0.vector_copy_bang_(work_vec5001,0,vec4977,start4979,end4980);generic_sort_by_key4838(work_vec5001,less_than_p4978,n4983,getkey4981);var if_res3093 = M0.vector_copy_bang_(dst_vec4984,dst_start4985,work_vec5001,0,n4983);}var if_res3094 = if_res3093;}var if_res3095 = if_res3094;}var if_res3096 = if_res3095;}if_res3096;if (true!==false) {var if_res3097 = dst_vec4984;} else {var if_res3097 = M0.rvoid();}var if_res3098 = if_res3097;} else {var if_res3098 = vector_sort(vec4977,less_than_p4978,start4979,end4980);}return if_res3098;};var temp3099 = $rjs_core.attachProcedureArity(function() {var fixed_lam3048 = {'4':cl3046,'6':cl3047}[arguments.length];if (fixed_lam3048!==undefined) {return fixed_lam3048.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[4,6]);var cl2993 = function(vec5002, less_than_p5003, start5004, end5005) {var n5006 = end5005-start5004;if (false!==false) {var if_res2996 = M0.make_vector(n5006);} else {var if_res2996 = vec5002;}var dst_vec5007 = if_res2996;if (false!==false) {var if_res2997 = 0;} else {var if_res2997 = start5004;}var dst_start5008 = if_res2997;if (M1.unsafe_fx_eq_(n5006,0)!==false) {var if_res3018 = M0.rvoid();} else {if (false!==false) {var work_vec5009 = M0.make_vector(n5006+M0.ceiling(n5006/2),true);var loop5010 = function(i5011) {if (M1.unsafe_fx_lt_(i5011,n5006)!==false) {var x5012 = M1.unsafe_vector_ref(vec5002,M1.unsafe_fx_plus_(i5011,start5004));M1.unsafe_vector_set_bang_(work_vec5009,i5011,M0.cons(false(x5012),x5012));var if_res2998 = loop5010(M1.unsafe_fx_plus_(i5011,1));} else {var if_res2998 = M0.rvoid();}return if_res2998;};loop5010(0);generic_sort_by_key4838(work_vec5009,less_than_p5003,n5006,M1.unsafe_car);var loop5013 = function(i5014) {if (M1.unsafe_fx_lt_(i5014,n5006)!==false) {M1.unsafe_vector_set_bang_(dst_vec5007,M1.unsafe_fx_plus_(i5014,dst_start5008),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec5009,i5014)));var if_res2999 = loop5013(M1.unsafe_fx_plus_(i5014,1));} else {var if_res2999 = M0.rvoid();}return if_res2999;};var if_res3017 = loop5013(0);} else {var loop5015 = function(prev_val5016, next_index5017) {var or_part5018 = M1.unsafe_fx_eq_(next_index5017,end5005);if (or_part5018!==false) {var if_res3002 = or_part5018;} else {var next_val5019 = M1.unsafe_vector_ref(vec5002,next_index5017);if (false!==false) {var if_res3000 = less_than_p5003(false(next_val5019),false(prev_val5016));} else {var if_res3000 = less_than_p5003(next_val5019,prev_val5016);}if (M0.not(if_res3000)!==false) {var if_res3001 = loop5015(next_val5019,M1.unsafe_fx_plus_(next_index5017,1));} else {var if_res3001 = false;}var if_res3002 = if_res3001;}return if_res3002;};if (loop5015(M1.unsafe_vector_ref(vec5002,start5004),M1.unsafe_fx_plus_(start5004,1))!==false) {if (false!==false) {var if_res3003 = M0.vector_copy_bang_(dst_vec5007,dst_start5008,vec5002,start5004,end5005);} else {var if_res3003 = M0.rvoid();}var if_res3016 = if_res3003;} else {if (M1.unsafe_fx_lt__eq_(n5006,3)!==false) {if (false!==false) {var if_res3004 = M0.vector_copy_bang_(dst_vec5007,dst_start5008,vec5002,start5004,end5005);} else {var if_res3004 = M0.rvoid();}if_res3004;if (M1.unsafe_fx_eq_(n5006,1)!==false) {var if_res3014 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n5006,2)!==false) {var tmp5020 = M1.unsafe_vector_ref(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,0));M1.unsafe_vector_set_bang_(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,0),M1.unsafe_vector_ref(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,1)));var if_res3013 = M1.unsafe_vector_set_bang_(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,1),tmp5020);} else {var a5021 = M1.unsafe_vector_ref(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,0));var b5022 = M1.unsafe_vector_ref(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,1));var c5023 = M1.unsafe_vector_ref(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,2));if (false!==false) {var if_res3005 = less_than_p5003(false(b5022),false(a5021));} else {var if_res3005 = less_than_p5003(b5022,a5021);}if (if_res3005!==false) {if (false!==false) {var if_res3006 = less_than_p5003(false(c5023),false(b5022));} else {var if_res3006 = less_than_p5003(c5023,b5022);}if (if_res3006!==false) {M1.unsafe_vector_set_bang_(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,0),c5023);var if_res3009 = M1.unsafe_vector_set_bang_(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,2),a5021);} else {if (false!==false) {var if_res3007 = less_than_p5003(false(c5023),false(a5021));} else {var if_res3007 = less_than_p5003(c5023,a5021);}if (if_res3007!==false) {M1.unsafe_vector_set_bang_(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,0),b5022);M1.unsafe_vector_set_bang_(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,1),c5023);var if_res3008 = M1.unsafe_vector_set_bang_(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,2),a5021);} else {M1.unsafe_vector_set_bang_(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,0),b5022);var if_res3008 = M1.unsafe_vector_set_bang_(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,1),a5021);}var if_res3009 = if_res3008;}var if_res3012 = if_res3009;} else {if (false!==false) {var if_res3010 = less_than_p5003(false(c5023),false(a5021));} else {var if_res3010 = less_than_p5003(c5023,a5021);}if (if_res3010!==false) {M1.unsafe_vector_set_bang_(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,0),c5023);M1.unsafe_vector_set_bang_(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,1),a5021);var if_res3011 = M1.unsafe_vector_set_bang_(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,2),b5022);} else {M1.unsafe_vector_set_bang_(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,1),c5023);var if_res3011 = M1.unsafe_vector_set_bang_(dst_vec5007,M1.unsafe_fx_plus_(dst_start5008,2),b5022);}var if_res3012 = if_res3011;}var if_res3013 = if_res3012;}var if_res3014 = if_res3013;}var if_res3015 = if_res3014;} else {var work_vec5024 = M0.make_vector(n5006+M0.ceiling(n5006/2),false);M0.vector_copy_bang_(work_vec5024,0,vec5002,start5004,end5005);generic_sort4782(work_vec5024,less_than_p5003,n5006);var if_res3015 = M0.vector_copy_bang_(dst_vec5007,dst_start5008,work_vec5024,0,n5006);}var if_res3016 = if_res3015;}var if_res3017 = if_res3016;}var if_res3018 = if_res3017;}if_res3018;if (false!==false) {var if_res3019 = dst_vec5007;} else {var if_res3019 = M0.rvoid();}return if_res3019;};var cl2994 = function(vec5025, less_than_p5026, start5027, end5028, getkey5029, cache_keys_p5030) {if (getkey5029!==false) {var if_res3020 = M0.not(M0.eq_p(M0.values,getkey5029));} else {var if_res3020 = false;}if (if_res3020!==false) {var n5031 = end5028-start5027;if (false!==false) {var if_res3021 = M0.make_vector(n5031);} else {var if_res3021 = vec5025;}var dst_vec5032 = if_res3021;if (false!==false) {var if_res3022 = 0;} else {var if_res3022 = start5027;}var dst_start5033 = if_res3022;if (M1.unsafe_fx_eq_(n5031,0)!==false) {var if_res3043 = M0.rvoid();} else {if (cache_keys_p5030!==false) {var work_vec5034 = M0.make_vector(n5031+M0.ceiling(n5031/2),true);var loop5035 = function(i5036) {if (M1.unsafe_fx_lt_(i5036,n5031)!==false) {var x5037 = M1.unsafe_vector_ref(vec5025,M1.unsafe_fx_plus_(i5036,start5027));M1.unsafe_vector_set_bang_(work_vec5034,i5036,M0.cons(getkey5029(x5037),x5037));var if_res3023 = loop5035(M1.unsafe_fx_plus_(i5036,1));} else {var if_res3023 = M0.rvoid();}return if_res3023;};loop5035(0);generic_sort_by_key4838(work_vec5034,less_than_p5026,n5031,M1.unsafe_car);var loop5038 = function(i5039) {if (M1.unsafe_fx_lt_(i5039,n5031)!==false) {M1.unsafe_vector_set_bang_(dst_vec5032,M1.unsafe_fx_plus_(i5039,dst_start5033),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec5034,i5039)));var if_res3024 = loop5038(M1.unsafe_fx_plus_(i5039,1));} else {var if_res3024 = M0.rvoid();}return if_res3024;};var if_res3042 = loop5038(0);} else {var loop5040 = function(prev_val5041, next_index5042) {var or_part5043 = M1.unsafe_fx_eq_(next_index5042,end5028);if (or_part5043!==false) {var if_res3027 = or_part5043;} else {var next_val5044 = M1.unsafe_vector_ref(vec5025,next_index5042);if (getkey5029!==false) {var if_res3025 = less_than_p5026(getkey5029(next_val5044),getkey5029(prev_val5041));} else {var if_res3025 = less_than_p5026(next_val5044,prev_val5041);}if (M0.not(if_res3025)!==false) {var if_res3026 = loop5040(next_val5044,M1.unsafe_fx_plus_(next_index5042,1));} else {var if_res3026 = false;}var if_res3027 = if_res3026;}return if_res3027;};if (loop5040(M1.unsafe_vector_ref(vec5025,start5027),M1.unsafe_fx_plus_(start5027,1))!==false) {if (false!==false) {var if_res3028 = M0.vector_copy_bang_(dst_vec5032,dst_start5033,vec5025,start5027,end5028);} else {var if_res3028 = M0.rvoid();}var if_res3041 = if_res3028;} else {if (M1.unsafe_fx_lt__eq_(n5031,3)!==false) {if (false!==false) {var if_res3029 = M0.vector_copy_bang_(dst_vec5032,dst_start5033,vec5025,start5027,end5028);} else {var if_res3029 = M0.rvoid();}if_res3029;if (M1.unsafe_fx_eq_(n5031,1)!==false) {var if_res3039 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n5031,2)!==false) {var tmp5045 = M1.unsafe_vector_ref(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,0));M1.unsafe_vector_set_bang_(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,0),M1.unsafe_vector_ref(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,1)));var if_res3038 = M1.unsafe_vector_set_bang_(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,1),tmp5045);} else {var a5046 = M1.unsafe_vector_ref(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,0));var b5047 = M1.unsafe_vector_ref(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,1));var c5048 = M1.unsafe_vector_ref(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,2));if (getkey5029!==false) {var if_res3030 = less_than_p5026(getkey5029(b5047),getkey5029(a5046));} else {var if_res3030 = less_than_p5026(b5047,a5046);}if (if_res3030!==false) {if (getkey5029!==false) {var if_res3031 = less_than_p5026(getkey5029(c5048),getkey5029(b5047));} else {var if_res3031 = less_than_p5026(c5048,b5047);}if (if_res3031!==false) {M1.unsafe_vector_set_bang_(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,0),c5048);var if_res3034 = M1.unsafe_vector_set_bang_(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,2),a5046);} else {if (getkey5029!==false) {var if_res3032 = less_than_p5026(getkey5029(c5048),getkey5029(a5046));} else {var if_res3032 = less_than_p5026(c5048,a5046);}if (if_res3032!==false) {M1.unsafe_vector_set_bang_(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,0),b5047);M1.unsafe_vector_set_bang_(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,1),c5048);var if_res3033 = M1.unsafe_vector_set_bang_(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,2),a5046);} else {M1.unsafe_vector_set_bang_(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,0),b5047);var if_res3033 = M1.unsafe_vector_set_bang_(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,1),a5046);}var if_res3034 = if_res3033;}var if_res3037 = if_res3034;} else {if (getkey5029!==false) {var if_res3035 = less_than_p5026(getkey5029(c5048),getkey5029(a5046));} else {var if_res3035 = less_than_p5026(c5048,a5046);}if (if_res3035!==false) {M1.unsafe_vector_set_bang_(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,0),c5048);M1.unsafe_vector_set_bang_(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,1),a5046);var if_res3036 = M1.unsafe_vector_set_bang_(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,2),b5047);} else {M1.unsafe_vector_set_bang_(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,1),c5048);var if_res3036 = M1.unsafe_vector_set_bang_(dst_vec5032,M1.unsafe_fx_plus_(dst_start5033,2),b5047);}var if_res3037 = if_res3036;}var if_res3038 = if_res3037;}var if_res3039 = if_res3038;}var if_res3040 = if_res3039;} else {var work_vec5049 = M0.make_vector(n5031+M0.ceiling(n5031/2),false);M0.vector_copy_bang_(work_vec5049,0,vec5025,start5027,end5028);generic_sort_by_key4838(work_vec5049,less_than_p5026,n5031,getkey5029);var if_res3040 = M0.vector_copy_bang_(dst_vec5032,dst_start5033,work_vec5049,0,n5031);}var if_res3041 = if_res3040;}var if_res3042 = if_res3041;}var if_res3043 = if_res3042;}if_res3043;if (false!==false) {var if_res3044 = dst_vec5032;} else {var if_res3044 = M0.rvoid();}var if_res3045 = if_res3044;} else {var if_res3045 = vector_sort_bang_(vec5025,less_than_p5026,start5027,end5028);}return if_res3045;};var let_result3151 = M0.values(temp3150,temp3099,$rjs_core.attachProcedureArity(function() {var fixed_lam2995 = {'4':cl2993,'6':cl2994}[arguments.length];if (fixed_lam2995!==undefined) {return fixed_lam2995.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[4,6]));var sort = let_result3151.getAt(0);var vector_sort = let_result3151.getAt(1);var vector_sort_bang_ = let_result3151.getAt(2);var __rjs_quoted__ = {};export { __rjs_quoted__,vector_sort_bang_,vector_sort,sort };