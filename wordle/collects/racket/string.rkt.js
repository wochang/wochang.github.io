import * as $rjs_core from '../../runtime/core.js';import * as M0 from "../../runtime/kernel.rkt.js";import * as M1 from "./private/pre-base.rkt.js";import * as M2 from "./private/string.rkt.js";import * as M3 from "./private/map.rkt.js";import * as M4 from "./private/more-scheme.rkt.js";import * as M5 from "./private/kw.rkt.js";import * as M6 from "./list.rkt.js";import * as M7 from "../../runtime/unsafe.rkt.js";var cl1717 = function(strs3085) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M0.apply(M0.string_append,strs3085);};var cl1718 = function(s13086, strs3087) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M0.apply(M0.string_append,s13086,strs3087);};var cl1719 = function(s13088, s23089, strs3090) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M0.apply(M0.string_append,s13088,s23089,strs3090);};var cl1720 = function(s13091, s23092, s33093, strs3094) {if (arguments.length!==4) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M0.apply(M0.string_append,s13091,s23092,s33093,strs3094);};var cl1721 = function(s13095, s23096, s33097, s43098, strs3099) {if (arguments.length!==5) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M0.apply(M0.string_append,s13095,s23096,s33097,s43098,strs3099);};var cl1722 = $rjs_core.attachProcedureArity(function(str3100, ...strss31011725) {if (arguments.length<1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var strss3101 = $rjs_core.Pair.listFromArray(strss31011725);return M0.apply(M1.new_apply_proc,M0.string_append,str3100,strss3101);});var string_append_times_ = $rjs_core.attachProcedureArity(function() {var fixed_lam1723 = {'1':cl1717,'2':cl1718,'3':cl1719,'4':cl1720,'5':cl1721}[arguments.length];if (fixed_lam1723!==undefined) {return fixed_lam1723.apply(null,arguments);} else {if (M0.__gt__eq_(cl1722.length,1)!==false) {var if_res1724 = cl1722.apply(null,arguments);} else {var if_res1724 = M0.error($rjs_core.UString.make("case-lambda: invalid case"));}return if_res1724;}},[M0.make_arity_at_least(1)]);var string_join = function(after_last33102, before_first13103, before_last23104, strs83105, sep73106) {if (arguments.length!==5) {throw $rjs_core.racketContractError("arity mismatch");} else {}var strs3107 = strs83105;if (false!==false) {var if_res1726 = $rjs_core.UString.make(" ");} else {var if_res1726 = sep73106;}var sep3108 = if_res1726;if (M0.eq_p(before_first13103,M7.unsafe_undefined)!==false) {var if_res1727 = M7.unsafe_undefined;} else {var if_res1727 = before_first13103;}var before_first3109 = if_res1727;if (M0.eq_p(before_last23104,M7.unsafe_undefined)!==false) {var if_res1728 = sep3108;} else {var if_res1728 = before_last23104;}var before_last3110 = if_res1728;if (M0.eq_p(after_last33102,M7.unsafe_undefined)!==false) {var if_res1729 = M7.unsafe_undefined;} else {var if_res1729 = after_last33102;}var after_last3111 = if_res1729;if (M0.list_p(strs3107)!==false) {var if_res1730 = M3.andmap(M0.string_p,strs3107);} else {var if_res1730 = false;}if (if_res1730!==false) {var if_res1731 = M0.rvoid();} else {var if_res1731 = M0.raise_argument_error($rjs_core.PrimitiveSymbol.make("string-join"),$rjs_core.UString.make("(listof string?)"),strs3107);}if_res1731;var or_part3112 = M0.string_p(before_first3109);if (or_part3112!==false) {var if_res1732 = or_part3112;} else {var if_res1732 = M0.eq_p(before_first3109,M7.unsafe_undefined);}if (if_res1732!==false) {var if_res1733 = M0.rvoid();} else {var if_res1733 = M0.raise_argument_error($rjs_core.PrimitiveSymbol.make("string-join"),$rjs_core.UString.make("string?"),before_first3109);}if_res1733;if (M0.string_p(sep3108)!==false) {var if_res1734 = M0.rvoid();} else {var if_res1734 = M0.raise_argument_error($rjs_core.PrimitiveSymbol.make("string-join"),$rjs_core.UString.make("string?"),sep3108);}if_res1734;var or_part3113 = M0.string_p(after_last3111);if (or_part3113!==false) {var if_res1735 = or_part3113;} else {var if_res1735 = M0.eq_p(after_last3111,M7.unsafe_undefined);}if (if_res1735!==false) {var if_res1736 = M0.rvoid();} else {var if_res1736 = M0.raise_argument_error($rjs_core.PrimitiveSymbol.make("string-join"),$rjs_core.UString.make("string?"),after_last3111);}if_res1736;var or_part3115 = M0.null_p(strs3107);if (or_part3115!==false) {var if_res1737 = or_part3115;} else {var if_res1737 = M0.null_p(M0.cdr(strs3107));}if (if_res1737!==false) {var if_res1739 = strs3107;} else {var __dot__dot__dot_ts_by_racket_by_string_dot_rkt__16013116 = M6.__rjs_quoted__.add_between23;var strs403117 = strs3107;var sep413118 = sep3108;var before_last423119 = before_last3110;if (M0.variable_reference_constant_p($rjs_core.PrimitiveSymbol.make("#%variable-reference"))!==false) {var if_res1738 = M6.__rjs_quoted__.add_between($rjs_core.Pair.makeList(),$rjs_core.Pair.makeList(),before_last423119,false,strs403117,sep413118);} else {var if_res1738 = M0.checked_procedure_check_and_extract(M5.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_ts_by_racket_by_string_dot_rkt__16013116,M5.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("before-last")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("before-last")),M0.list(before_last423119),strs403117,sep413118);}var if_res1739 = if_res1738;}var r3114 = if_res1739;if (M0.eq_p(after_last3111,M7.unsafe_undefined)!==false) {var if_res1740 = r3114;} else {var if_res1740 = M0.append(r3114,M0.list(after_last3111));}var r3120 = if_res1740;if (M0.eq_p(before_first3109,M7.unsafe_undefined)!==false) {var if_res1741 = r3120;} else {var if_res1741 = M0.cons(before_first3109,r3120);}var r3121 = if_res1741;return M0.apply(M0.string_append,r3121);};var string_join3080 = function(given_kws3122, given_args3123, strs83124, sep73125) {if (arguments.length!==4) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.pair_p(given_kws3122)!==false) {var if_res1742 = M0.eq_p($rjs_core.Keyword.make("after-last"),M0.car(given_kws3122));} else {var if_res1742 = false;}var after_last63126 = if_res1742;if (after_last63126!==false) {var if_res1743 = M0.car(given_args3123);} else {var if_res1743 = M7.unsafe_undefined;}var after_last33127 = if_res1743;if (after_last63126!==false) {var if_res1744 = M0.cdr(given_kws3122);} else {var if_res1744 = given_kws3122;}var kws1243113128 = if_res1744;if (after_last63126!==false) {var if_res1745 = M0.cdr(given_args3123);} else {var if_res1745 = given_args3123;}var kw_args1243123129 = if_res1745;if (M0.pair_p(kws1243113128)!==false) {var if_res1746 = M0.eq_p($rjs_core.Keyword.make("before-first"),M0.car(kws1243113128));} else {var if_res1746 = false;}var before_first43130 = if_res1746;if (before_first43130!==false) {var if_res1747 = M0.car(kw_args1243123129);} else {var if_res1747 = M7.unsafe_undefined;}var before_first13131 = if_res1747;if (before_first43130!==false) {var if_res1748 = M0.cdr(kws1243113128);} else {var if_res1748 = kws1243113128;}var kws1243133132 = if_res1748;if (before_first43130!==false) {var if_res1749 = M0.cdr(kw_args1243123129);} else {var if_res1749 = kw_args1243123129;}var kw_args1243143133 = if_res1749;var before_last53134 = M0.pair_p(kws1243133132);if (before_last53134!==false) {var if_res1750 = M0.car(kw_args1243143133);} else {var if_res1750 = M7.unsafe_undefined;}var before_last23135 = if_res1750;return string_join(after_last33127,before_first13131,before_last23135,strs83124,sep73125);};var cl1755 = function(given_kws3144, given_args3145, strs3146) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_join3080(given_kws3144,given_args3145,strs3146,$rjs_core.UString.make(" "));};var cl1756 = function(given_kws3147, given_args3148, strs3149, sep73150) {if (arguments.length!==4) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_join3080(given_kws3147,given_args3148,strs3149,sep73150);};var temp1758 = $rjs_core.attachProcedureArity(function() {var fixed_lam1757 = {'3':cl1755,'4':cl1756}[arguments.length];if (fixed_lam1757!==undefined) {return fixed_lam1757.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[3,4]);var temp1754 = $rjs_core.Pair.makeList($rjs_core.Keyword.make("after-last"),$rjs_core.Keyword.make("before-first"),$rjs_core.Keyword.make("before-last"));var cl1751 = function(strs3151) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_join3080(M0.rnull,M0.rnull,strs3151,$rjs_core.UString.make(" "));};var cl1752 = function(strs3152, sep73153) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_join3080(M0.rnull,M0.rnull,strs3152,sep73153);};var string_join9 = M5.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws3136, given_argc3137) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.__gt__eq_(given_argc3137,3)!==false) {var if_res1759 = M0.__lt__eq_(given_argc3137,4);} else {var if_res1759 = false;}if (if_res1759!==false) {var l11243153138 = given_kws3136;if (M0.null_p(l11243153138)!==false) {var if_res1761 = l11243153138;} else {if (M0.eq_p(M0.car(l11243153138),$rjs_core.Keyword.make("after-last"))!==false) {var if_res1760 = M0.cdr(l11243153138);} else {var if_res1760 = l11243153138;}var if_res1761 = if_res1760;}var l11243153139 = if_res1761;var l11243163140 = l11243153139;if (M0.null_p(l11243163140)!==false) {var if_res1763 = l11243163140;} else {if (M0.eq_p(M0.car(l11243163140),$rjs_core.Keyword.make("before-first"))!==false) {var if_res1762 = M0.cdr(l11243163140);} else {var if_res1762 = l11243163140;}var if_res1763 = if_res1762;}var l11243163141 = if_res1763;var l11243173142 = l11243163141;if (M0.null_p(l11243173142)!==false) {var if_res1765 = l11243173142;} else {if (M0.eq_p(M0.car(l11243173142),$rjs_core.Keyword.make("before-last"))!==false) {var if_res1764 = M0.cdr(l11243173142);} else {var if_res1764 = l11243173142;}var if_res1765 = if_res1764;}var l11243173143 = if_res1765;var if_res1766 = M0.null_p(l11243173143);} else {var if_res1766 = false;}return if_res1766;},temp1758,M0.rnull,temp1754,$rjs_core.attachProcedureArity(function() {var fixed_lam1753 = {'1':cl1751,'2':cl1752}[arguments.length];if (fixed_lam1753!==undefined) {return fixed_lam1753.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[1,2]));var immutable_cache = M0.make_weak_hasheq();var string__gt_immutable_string_by_cache = function(str3154) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.immutable_p(str3154)!==false) {var if_res1769 = str3154;} else {var old3155 = M0.hash_ref(immutable_cache,str3154,false);if (old3155!==false) {var if_res1767 = M0.string_eq__p(str3154,old3155);} else {var if_res1767 = false;}if (if_res1767!==false) {var if_res1768 = old3155;} else {var new3156 = M0.string__gt_immutable_string(str3154);M0.hash_set_bang_(immutable_cache,str3154,new3156);var if_res1768 = new3156;}var if_res1769 = if_res1768;}return if_res1769;};var t3157 = M0.make_weak_hasheq();var t_plus_3158 = M0.make_weak_hasheq();var spaces3159 = $rjs_core.Pair.makeList($rjs_core.Regexp.fromString("\\s+"),$rjs_core.Regexp.fromString("^\\s+"),$rjs_core.Regexp.fromString("\\s+$"));M0.hash_set_bang_(t3157,M7.unsafe_undefined,spaces3159);M0.hash_set_bang_(t_plus_3158,M7.unsafe_undefined,spaces3159);var get_rxs = function(who3160, rx3161, __plus__p3162) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.string_p(rx3161)!==false) {var if_res1770 = string__gt_immutable_string_by_cache(rx3161);} else {var if_res1770 = rx3161;}var rx_times_3163 = if_res1770;if (__plus__p3162!==false) {var if_res1775 = t_plus_3158;} else {var if_res1775 = t3157;}return M4.hash_ref_bang_(if_res1775,rx_times_3163,function() {if (arguments.length!==0) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.string_p(rx3161)!==false) {var if_res1772 = M2.regexp_quote(rx_times_3163);} else {if (M0.regexp_p(rx3161)!==false) {var if_res1771 = M0.string_append($rjs_core.UString.make("(?:"),M0.object_name(rx3161),$rjs_core.UString.make(")"));} else {var if_res1771 = M0.raise_argument_error(who3160,$rjs_core.UString.make("(or/c string? regexp?)"),rx3161);}var if_res1772 = if_res1771;}var s3164 = if_res1772;if (__plus__p3162!==false) {var if_res1773 = M0.string_append($rjs_core.UString.make("(?:"),s3164,$rjs_core.UString.make(")+"));} else {var if_res1773 = s3164;}var s3165 = if_res1773;var __s3166 = M0.string_append($rjs_core.UString.make("^"),s3165);var s$3167 = M0.string_append(s3165,$rjs_core.UString.make("$"));if (M0.pregexp_p(rx3161)!==false) {var if_res1774 = M0.list(M0.pregexp(s3165),M0.pregexp(__s3166),M0.pregexp(s$3167));} else {var if_res1774 = M0.list(M0.regexp(s3165),M0.regexp(__s3166),M0.regexp(s$3167));}return if_res1774;});};var internal_trim = function(who3168, str3169, sep3170, l_p3171, r_p3172, rxs3173) {if (arguments.length!==6) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.string_p(str3169)!==false) {var if_res1776 = M0.rvoid();} else {var if_res1776 = M0.raise_argument_error(who3168,$rjs_core.UString.make("string?"),str3169);}if_res1776;var let_result1777 = M0.values();if (l_p3171!==false) {var p3175 = M0.regexp_match_positions(M0.car(rxs3173),str3169);if (p3175!==false) {var p3176 = M0.cdar(p3175);if (M0.__gt_(p3176,0)!==false) {var if_res1778 = p3176;} else {var if_res1778 = false;}var if_res1779 = if_res1778;} else {var if_res1779 = false;}var if_res1780 = if_res1779;} else {var if_res1780 = false;}var l3174 = if_res1780;if (r_p3172!==false) {var p3178 = M0.regexp_match_positions(M0.cadr(rxs3173),str3169);if (p3178!==false) {var p3179 = M0.caar(p3178);if (M0.__lt_(p3179,M0.string_length(str3169))!==false) {if (l3174!==false) {var if_res1781 = M0.__gt_(l3174,p3179);} else {var if_res1781 = false;}if (if_res1781!==false) {var if_res1782 = l3174;} else {var if_res1782 = p3179;}var if_res1783 = if_res1782;} else {var if_res1783 = false;}var if_res1784 = if_res1783;} else {var if_res1784 = false;}var if_res1785 = if_res1784;} else {var if_res1785 = false;}var r3177 = if_res1785;return M0.values(l3174,r3177);};var string_trim = function(left_p103180, repeat_p123181, right_p113182, str173183, sep163184) {if (arguments.length!==5) {throw $rjs_core.racketContractError("arity mismatch");} else {}var str3185 = str173183;if (M0.eq_p(sep163184,M7.unsafe_undefined)!==false) {var if_res1786 = M7.unsafe_undefined;} else {var if_res1786 = sep163184;}var sep3186 = if_res1786;if (false!==false) {var if_res1787 = true;} else {var if_res1787 = left_p103180;}var l_p3187 = if_res1787;if (false!==false) {var if_res1788 = true;} else {var if_res1788 = right_p113182;}var r_p3188 = if_res1788;if (false!==false) {var if_res1789 = false;} else {var if_res1789 = repeat_p123181;}var __plus__p3189 = if_res1789;var rxs3190 = get_rxs($rjs_core.PrimitiveSymbol.make("string-trim"),sep3186,__plus__p3189);var let_result1790 = internal_trim($rjs_core.PrimitiveSymbol.make("string-trim"),str3185,sep3186,l_p3187,r_p3188,M0.cdr(rxs3190));var l3191 = let_result1790.getAt(0);var r3192 = let_result1790.getAt(1);if (l3191!==false) {var if_res1791 = r3192;} else {var if_res1791 = false;}if (if_res1791!==false) {var if_res1794 = M0.substring(str3185,l3191,r3192);} else {if (l3191!==false) {var if_res1793 = M0.substring(str3185,l3191);} else {if (r3192!==false) {var if_res1792 = M0.substring(str3185,0,r3192);} else {var if_res1792 = str3185;}var if_res1793 = if_res1792;}var if_res1794 = if_res1793;}return if_res1794;};var string_trim3081 = function(given_kws3193, given_args3194, str173195, sep163196) {if (arguments.length!==4) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.pair_p(given_kws3193)!==false) {var if_res1795 = M0.eq_p($rjs_core.Keyword.make("left?"),M0.car(given_kws3193));} else {var if_res1795 = false;}var left_p133197 = if_res1795;if (left_p133197!==false) {var if_res1796 = M0.car(given_args3194);} else {var if_res1796 = true;}var left_p103198 = if_res1796;if (left_p133197!==false) {var if_res1797 = M0.cdr(given_kws3193);} else {var if_res1797 = given_kws3193;}var kws1243183199 = if_res1797;if (left_p133197!==false) {var if_res1798 = M0.cdr(given_args3194);} else {var if_res1798 = given_args3194;}var kw_args1243193200 = if_res1798;if (M0.pair_p(kws1243183199)!==false) {var if_res1799 = M0.eq_p($rjs_core.Keyword.make("repeat?"),M0.car(kws1243183199));} else {var if_res1799 = false;}var repeat_p153201 = if_res1799;if (repeat_p153201!==false) {var if_res1800 = M0.car(kw_args1243193200);} else {var if_res1800 = false;}var repeat_p123202 = if_res1800;if (repeat_p153201!==false) {var if_res1801 = M0.cdr(kws1243183199);} else {var if_res1801 = kws1243183199;}var kws1243203203 = if_res1801;if (repeat_p153201!==false) {var if_res1802 = M0.cdr(kw_args1243193200);} else {var if_res1802 = kw_args1243193200;}var kw_args1243213204 = if_res1802;var right_p143205 = M0.pair_p(kws1243203203);if (right_p143205!==false) {var if_res1803 = M0.car(kw_args1243213204);} else {var if_res1803 = true;}var right_p113206 = if_res1803;return string_trim(left_p103198,repeat_p123202,right_p113206,str173195,sep163196);};var cl1808 = function(given_kws3215, given_args3216, str3217) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_trim3081(given_kws3215,given_args3216,str3217,M7.unsafe_undefined);};var cl1809 = function(given_kws3218, given_args3219, str3220, sep163221) {if (arguments.length!==4) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_trim3081(given_kws3218,given_args3219,str3220,sep163221);};var temp1811 = $rjs_core.attachProcedureArity(function() {var fixed_lam1810 = {'3':cl1808,'4':cl1809}[arguments.length];if (fixed_lam1810!==undefined) {return fixed_lam1810.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[3,4]);var temp1807 = $rjs_core.Pair.makeList($rjs_core.Keyword.make("left?"),$rjs_core.Keyword.make("repeat?"),$rjs_core.Keyword.make("right?"));var cl1804 = function(str3222) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_trim3081(M0.rnull,M0.rnull,str3222,M7.unsafe_undefined);};var cl1805 = function(str3223, sep163224) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_trim3081(M0.rnull,M0.rnull,str3223,sep163224);};var string_trim18 = M5.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws3207, given_argc3208) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.__gt__eq_(given_argc3208,3)!==false) {var if_res1812 = M0.__lt__eq_(given_argc3208,4);} else {var if_res1812 = false;}if (if_res1812!==false) {var l11243223209 = given_kws3207;if (M0.null_p(l11243223209)!==false) {var if_res1814 = l11243223209;} else {if (M0.eq_p(M0.car(l11243223209),$rjs_core.Keyword.make("left?"))!==false) {var if_res1813 = M0.cdr(l11243223209);} else {var if_res1813 = l11243223209;}var if_res1814 = if_res1813;}var l11243223210 = if_res1814;var l11243233211 = l11243223210;if (M0.null_p(l11243233211)!==false) {var if_res1816 = l11243233211;} else {if (M0.eq_p(M0.car(l11243233211),$rjs_core.Keyword.make("repeat?"))!==false) {var if_res1815 = M0.cdr(l11243233211);} else {var if_res1815 = l11243233211;}var if_res1816 = if_res1815;}var l11243233212 = if_res1816;var l11243243213 = l11243233212;if (M0.null_p(l11243243213)!==false) {var if_res1818 = l11243243213;} else {if (M0.eq_p(M0.car(l11243243213),$rjs_core.Keyword.make("right?"))!==false) {var if_res1817 = M0.cdr(l11243243213);} else {var if_res1817 = l11243243213;}var if_res1818 = if_res1817;}var l11243243214 = if_res1818;var if_res1819 = M0.null_p(l11243243214);} else {var if_res1819 = false;}return if_res1819;},temp1811,M0.rnull,temp1807,$rjs_core.attachProcedureArity(function() {var fixed_lam1806 = {'1':cl1804,'2':cl1805}[arguments.length];if (fixed_lam1806!==undefined) {return fixed_lam1806.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[1,2]));var internal_split = function(who3225, str3226, sep3227, trim_p3228, __plus__p3229) {if (arguments.length!==5) {throw $rjs_core.racketContractError("arity mismatch");} else {}var rxs3230 = get_rxs(who3225,sep3227,__plus__p3229);if (trim_p3228!==false) {var if_res1820 = internal_trim(who3225,str3226,sep3227,true,true,M0.cdr(rxs3230));} else {var if_res1820 = M0.values(false,false);}var let_result1821 = if_res1820;var l3231 = let_result1821.getAt(0);var r3232 = let_result1821.getAt(1);var temp1823 = M0.car(rxs3230);var or_part3234 = l3231;if (or_part3234!==false) {var if_res1822 = or_part3234;} else {var if_res1822 = 0;}var strs3233 = M2.regexp_split(temp1823,str3226,if_res1822,r3232);if (M0.equal_p(strs3233,$rjs_core.Pair.makeList($rjs_core.UString.make("")))!==false) {var if_res1824 = $rjs_core.Pair.makeList();} else {var if_res1824 = strs3233;}return if_res1824;};var internal_split_whitespace = function(str3235) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var is_whitespace_p3236 = function(c3237) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var or_part3238 = M0.eq_p(c3237,$rjs_core.Char.charFromCodepoint(32));if (or_part3238!==false) {var if_res1828 = or_part3238;} else {var or_part3239 = M0.eq_p(c3237,$rjs_core.Char.charFromCodepoint(9));if (or_part3239!==false) {var if_res1827 = or_part3239;} else {var or_part3240 = M0.eq_p(c3237,$rjs_core.Char.charFromCodepoint(10));if (or_part3240!==false) {var if_res1826 = or_part3240;} else {var or_part3241 = M0.eq_p(c3237,$rjs_core.Char.charFromCodepoint(13));if (or_part3241!==false) {var if_res1825 = or_part3241;} else {var if_res1825 = M0.eq_p(c3237,$rjs_core.Char.charFromCodepoint(12));}var if_res1826 = if_res1825;}var if_res1827 = if_res1826;}var if_res1828 = if_res1827;}return if_res1828;};var len3242 = M0.string_length(str3235);var loop3243 = function(beg3244, end3245) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.__eq_(end3245,len3242)!==false) {if (M0.__eq_(beg3244,end3245)!==false) {var if_res1829 = $rjs_core.Pair.makeList();} else {var if_res1829 = M0.list(M0.substring(str3235,beg3244,end3245));}var if_res1832 = if_res1829;} else {if (is_whitespace_p3236(M0.string_ref(str3235,end3245))!==false) {var pos3246 = M0.add1(end3245);if (M0.__eq_(beg3244,end3245)!==false) {var if_res1830 = loop3243(pos3246,pos3246);} else {var if_res1830 = M0.cons(M0.substring(str3235,beg3244,end3245),loop3243(pos3246,pos3246));}var if_res1831 = if_res1830;} else {var if_res1831 = loop3243(beg3244,M0.add1(end3245));}var if_res1832 = if_res1831;}return if_res1832;};return loop3243(0,0);};var string_split = function(repeat_p203247, trim_p193248, str243249, sep233250) {if (arguments.length!==4) {throw $rjs_core.racketContractError("arity mismatch");} else {}var str3251 = str243249;if (M0.eq_p(sep233250,M7.unsafe_undefined)!==false) {var if_res1833 = M7.unsafe_undefined;} else {var if_res1833 = sep233250;}var sep3252 = if_res1833;if (false!==false) {var if_res1834 = true;} else {var if_res1834 = trim_p193248;}var trim_p3253 = if_res1834;if (false!==false) {var if_res1835 = false;} else {var if_res1835 = repeat_p203247;}var __plus__p3254 = if_res1835;if (M0.string_p(str3251)!==false) {var or_part3255 = M0.eq_p(sep3252,M7.unsafe_undefined);if (or_part3255!==false) {var if_res1836 = or_part3255;} else {var if_res1836 = M0.eq_p(sep3252,$rjs_core.Regexp.fromString("\\s+"));}if (if_res1836!==false) {var if_res1837 = trim_p3253;} else {var if_res1837 = false;}var if_res1838 = if_res1837;} else {var if_res1838 = false;}if (if_res1838!==false) {var if_res1839 = internal_split_whitespace(str3251);} else {var if_res1839 = internal_split($rjs_core.PrimitiveSymbol.make("string-split"),str3251,sep3252,trim_p3253,__plus__p3254);}return if_res1839;};var string_split3082 = function(given_kws3256, given_args3257, str243258, sep233259) {if (arguments.length!==4) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.pair_p(given_kws3256)!==false) {var if_res1840 = M0.eq_p($rjs_core.Keyword.make("repeat?"),M0.car(given_kws3256));} else {var if_res1840 = false;}var repeat_p223260 = if_res1840;if (repeat_p223260!==false) {var if_res1841 = M0.car(given_args3257);} else {var if_res1841 = false;}var repeat_p203261 = if_res1841;if (repeat_p223260!==false) {var if_res1842 = M0.cdr(given_kws3256);} else {var if_res1842 = given_kws3256;}var kws1243253262 = if_res1842;if (repeat_p223260!==false) {var if_res1843 = M0.cdr(given_args3257);} else {var if_res1843 = given_args3257;}var kw_args1243263263 = if_res1843;var trim_p213264 = M0.pair_p(kws1243253262);if (trim_p213264!==false) {var if_res1844 = M0.car(kw_args1243263263);} else {var if_res1844 = true;}var trim_p193265 = if_res1844;return string_split(repeat_p203261,trim_p193265,str243258,sep233259);};var cl1849 = function(given_kws3272, given_args3273, str3274) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_split3082(given_kws3272,given_args3273,str3274,M7.unsafe_undefined);};var cl1850 = function(given_kws3275, given_args3276, str3277, sep233278) {if (arguments.length!==4) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_split3082(given_kws3275,given_args3276,str3277,sep233278);};var temp1852 = $rjs_core.attachProcedureArity(function() {var fixed_lam1851 = {'3':cl1849,'4':cl1850}[arguments.length];if (fixed_lam1851!==undefined) {return fixed_lam1851.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[3,4]);var temp1848 = $rjs_core.Pair.makeList($rjs_core.Keyword.make("repeat?"),$rjs_core.Keyword.make("trim?"));var cl1845 = function(str3279) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_split3082(M0.rnull,M0.rnull,str3279,M7.unsafe_undefined);};var cl1846 = function(str3280, sep233281) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_split3082(M0.rnull,M0.rnull,str3280,sep233281);};var string_split25 = M5.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws3266, given_argc3267) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.__gt__eq_(given_argc3267,3)!==false) {var if_res1853 = M0.__lt__eq_(given_argc3267,4);} else {var if_res1853 = false;}if (if_res1853!==false) {var l11243273268 = given_kws3266;if (M0.null_p(l11243273268)!==false) {var if_res1855 = l11243273268;} else {if (M0.eq_p(M0.car(l11243273268),$rjs_core.Keyword.make("repeat?"))!==false) {var if_res1854 = M0.cdr(l11243273268);} else {var if_res1854 = l11243273268;}var if_res1855 = if_res1854;}var l11243273269 = if_res1855;var l11243283270 = l11243273269;if (M0.null_p(l11243283270)!==false) {var if_res1857 = l11243283270;} else {if (M0.eq_p(M0.car(l11243283270),$rjs_core.Keyword.make("trim?"))!==false) {var if_res1856 = M0.cdr(l11243283270);} else {var if_res1856 = l11243283270;}var if_res1857 = if_res1856;}var l11243283271 = if_res1857;var if_res1858 = M0.null_p(l11243283271);} else {var if_res1858 = false;}return if_res1858;},temp1852,M0.rnull,temp1848,$rjs_core.attachProcedureArity(function() {var fixed_lam1847 = {'1':cl1845,'2':cl1846}[arguments.length];if (fixed_lam1847!==undefined) {return fixed_lam1847.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[1,2]));var string_normalize_spaces = function(repeat_p273282, trim_p263283, str323284, sep303285, space313286) {if (arguments.length!==5) {throw $rjs_core.racketContractError("arity mismatch");} else {}var str3287 = str323284;if (M0.eq_p(sep303285,M7.unsafe_undefined)!==false) {var if_res1859 = M7.unsafe_undefined;} else {var if_res1859 = sep303285;}var sep3288 = if_res1859;if (false!==false) {var if_res1860 = $rjs_core.UString.make(" ");} else {var if_res1860 = space313286;}var space3289 = if_res1860;if (false!==false) {var if_res1861 = true;} else {var if_res1861 = trim_p263283;}var trim_p3290 = if_res1861;if (false!==false) {var if_res1862 = false;} else {var if_res1862 = repeat_p273282;}var __plus__p3291 = if_res1862;var temp433292 = internal_split($rjs_core.PrimitiveSymbol.make("string-normalize-spaces"),str3287,sep3288,trim_p3290,__plus__p3291);var space443293 = space3289;if (M0.variable_reference_constant_p($rjs_core.PrimitiveSymbol.make("#%variable-reference"))!==false) {var if_res1863 = string_join(M7.unsafe_undefined,M7.unsafe_undefined,M7.unsafe_undefined,temp433292,space443293);} else {var if_res1863 = string_join9(temp433292,space443293);}return if_res1863;};var string_normalize_spaces3083 = function(given_kws3294, given_args3295, str323296, sep303297, space313298) {if (arguments.length!==5) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.pair_p(given_kws3294)!==false) {var if_res1864 = M0.eq_p($rjs_core.Keyword.make("repeat?"),M0.car(given_kws3294));} else {var if_res1864 = false;}var repeat_p293299 = if_res1864;if (repeat_p293299!==false) {var if_res1865 = M0.car(given_args3295);} else {var if_res1865 = false;}var repeat_p273300 = if_res1865;if (repeat_p293299!==false) {var if_res1866 = M0.cdr(given_kws3294);} else {var if_res1866 = given_kws3294;}var kws1243293301 = if_res1866;if (repeat_p293299!==false) {var if_res1867 = M0.cdr(given_args3295);} else {var if_res1867 = given_args3295;}var kw_args1243303302 = if_res1867;var trim_p283303 = M0.pair_p(kws1243293301);if (trim_p283303!==false) {var if_res1868 = M0.car(kw_args1243303302);} else {var if_res1868 = true;}var trim_p263304 = if_res1868;return string_normalize_spaces(repeat_p273300,trim_p263304,str323296,sep303297,space313298);};var cl1874 = function(given_kws3311, given_args3312, str3313) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_normalize_spaces3083(given_kws3311,given_args3312,str3313,M7.unsafe_undefined,$rjs_core.UString.make(" "));};var cl1875 = function(given_kws3314, given_args3315, str3316, sep3317, space313318) {if (arguments.length!==5) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_normalize_spaces3083(given_kws3314,given_args3315,str3316,sep3317,space313318);};var cl1876 = function(given_kws3319, given_args3320, str3321, sep303322) {if (arguments.length!==4) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_normalize_spaces3083(given_kws3319,given_args3320,str3321,sep303322,$rjs_core.UString.make(" "));};var temp1878 = $rjs_core.attachProcedureArity(function() {var fixed_lam1877 = {'3':cl1874,'5':cl1875,'4':cl1876}[arguments.length];if (fixed_lam1877!==undefined) {return fixed_lam1877.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[3,4,5]);var temp1873 = $rjs_core.Pair.makeList($rjs_core.Keyword.make("repeat?"),$rjs_core.Keyword.make("trim?"));var cl1869 = function(str3323) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_normalize_spaces3083(M0.rnull,M0.rnull,str3323,M7.unsafe_undefined,$rjs_core.UString.make(" "));};var cl1870 = function(str3324, sep3325, space313326) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_normalize_spaces3083(M0.rnull,M0.rnull,str3324,sep3325,space313326);};var cl1871 = function(str3327, sep303328) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_normalize_spaces3083(M0.rnull,M0.rnull,str3327,sep303328,$rjs_core.UString.make(" "));};var string_normalize_spaces33 = M5.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws3305, given_argc3306) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.__gt__eq_(given_argc3306,3)!==false) {var if_res1879 = M0.__lt__eq_(given_argc3306,5);} else {var if_res1879 = false;}if (if_res1879!==false) {var l11243313307 = given_kws3305;if (M0.null_p(l11243313307)!==false) {var if_res1881 = l11243313307;} else {if (M0.eq_p(M0.car(l11243313307),$rjs_core.Keyword.make("repeat?"))!==false) {var if_res1880 = M0.cdr(l11243313307);} else {var if_res1880 = l11243313307;}var if_res1881 = if_res1880;}var l11243313308 = if_res1881;var l11243323309 = l11243313308;if (M0.null_p(l11243323309)!==false) {var if_res1883 = l11243323309;} else {if (M0.eq_p(M0.car(l11243323309),$rjs_core.Keyword.make("trim?"))!==false) {var if_res1882 = M0.cdr(l11243323309);} else {var if_res1882 = l11243323309;}var if_res1883 = if_res1882;}var l11243323310 = if_res1883;var if_res1884 = M0.null_p(l11243323310);} else {var if_res1884 = false;}return if_res1884;},temp1878,M0.rnull,temp1873,$rjs_core.attachProcedureArity(function() {var fixed_lam1872 = {'1':cl1869,'3':cl1870,'2':cl1871}[arguments.length];if (fixed_lam1872!==undefined) {return fixed_lam1872.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[1,2,3]));var replace_cache = M0.make_weak_hasheq();var string_replace = function(all_p343329, str363330, from373331, to383332) {if (arguments.length!==4) {throw $rjs_core.racketContractError("arity mismatch");} else {}var str3333 = str363330;var from3334 = from373331;var to3335 = to383332;if (false!==false) {var if_res1885 = true;} else {var if_res1885 = all_p343329;}var all_p3336 = if_res1885;if (M0.string_p(str3333)!==false) {var if_res1886 = M0.rvoid();} else {var if_res1886 = M0.raise_argument_error($rjs_core.PrimitiveSymbol.make("string-replace"),$rjs_core.UString.make("string?"),str3333);}if_res1886;var let_result1887 = M0.values();if (M0.string_p(to3335)!==false) {var if_res1888 = M0.rvoid();} else {var if_res1888 = M0.raise_argument_error($rjs_core.PrimitiveSymbol.make("string-replace"),$rjs_core.UString.make("string?"),to3335);}if_res1888;var let_result1889 = M0.values();var or_part3337 = M0.string_p(from3334);if (or_part3337!==false) {var if_res1890 = or_part3337;} else {var if_res1890 = M0.regexp_p(from3334);}if (if_res1890!==false) {var if_res1891 = M0.rvoid();} else {var if_res1891 = M0.raise_argument_error($rjs_core.PrimitiveSymbol.make("string-replace"),$rjs_core.UString.make("(or/c string? regexp?)"),from3334);}if_res1891;var let_result1892 = M0.values();if (M0.regexp_p(from3334)!==false) {var if_res1893 = from3334;} else {var if_res1893 = M4.hash_ref_bang_(replace_cache,string__gt_immutable_string_by_cache(from3334),function() {if (arguments.length!==0) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M0.regexp(M2.regexp_quote(from3334));});}var from_times_3338 = if_res1893;var to_times_3339 = M2.regexp_replace_quote(to3335);if (all_p3336!==false) {var if_res1894 = M2.__regexp_replace_times_(from_times_3338,str3333,to_times_3339);} else {var if_res1894 = M0.regexp_replace(from_times_3338,str3333,to_times_3339);}return if_res1894;};var string_replace3084 = function(given_kws3340, given_args3341, str363342, from373343, to383344) {if (arguments.length!==5) {throw $rjs_core.racketContractError("arity mismatch");} else {}var all_p353345 = M0.pair_p(given_kws3340);if (all_p353345!==false) {var if_res1895 = M0.car(given_args3341);} else {var if_res1895 = true;}var all_p343346 = if_res1895;return string_replace(all_p343346,str363342,from373343,to383344);};var cl1899 = function(given_kws3351, given_args3352, str3353, from3354, to3355) {if (arguments.length!==5) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_replace3084(given_kws3351,given_args3352,str3353,from3354,to3355);};var temp1901 = $rjs_core.attachProcedureArity(function() {var fixed_lam1900 = {'5':cl1899}[arguments.length];if (fixed_lam1900!==undefined) {return fixed_lam1900.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[5]);var temp1898 = $rjs_core.Pair.makeList($rjs_core.Keyword.make("all?"));var cl1896 = function(str3356, from3357, to3358) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}return string_replace3084(M0.rnull,M0.rnull,str3356,from3357,to3358);};var string_replace39 = M5.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws3347, given_argc3348) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.__eq_(given_argc3348,5)!==false) {var l11243333349 = given_kws3347;if (M0.null_p(l11243333349)!==false) {var if_res1903 = l11243333349;} else {if (M0.eq_p(M0.car(l11243333349),$rjs_core.Keyword.make("all?"))!==false) {var if_res1902 = M0.cdr(l11243333349);} else {var if_res1902 = l11243333349;}var if_res1903 = if_res1902;}var l11243333350 = if_res1903;var if_res1904 = M0.null_p(l11243333350);} else {var if_res1904 = false;}return if_res1904;},temp1901,M0.rnull,temp1898,$rjs_core.attachProcedureArity(function() {var fixed_lam1897 = {'3':cl1896}[arguments.length];if (fixed_lam1897!==undefined) {return fixed_lam1897.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[3]));var non_empty_string_p = function(x3359) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.string_p(x3359)!==false) {var if_res1905 = M0.not(M0.zero_p(M0.string_length(x3359)));} else {var if_res1905 = false;}return if_res1905;};var string_prefix_p = function(str3360, prefix3361) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.string_p(str3360)!==false) {var if_res1906 = M0.rvoid();} else {var if_res1906 = M0.raise_argument_error($rjs_core.PrimitiveSymbol.make("string-prefix?"),$rjs_core.UString.make("string?"),str3360);}if_res1906;var let_result1907 = M0.values();if (M0.string_p(prefix3361)!==false) {var if_res1908 = M0.rvoid();} else {var if_res1908 = M0.raise_argument_error($rjs_core.PrimitiveSymbol.make("string-prefix?"),$rjs_core.UString.make("string?"),prefix3361);}if_res1908;var let_result1909 = M0.values();var l13362 = M0.string_length(str3360);var l23363 = M0.string_length(prefix3361);var loop3364 = function(i3365) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.__eq_(l23363,i3365)!==false) {var if_res1912 = true;} else {if (M0.__eq_(l13362,i3365)!==false) {var if_res1911 = false;} else {if (M0.char_eq__p(M0.string_ref(str3360,i3365),M0.string_ref(prefix3361,i3365))!==false) {var if_res1910 = loop3364(M0.add1(i3365));} else {var if_res1910 = false;}var if_res1911 = if_res1910;}var if_res1912 = if_res1911;}return if_res1912;};return loop3364(0);};var string_suffix_p = function(str3366, suffix3367) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.string_p(str3366)!==false) {var if_res1913 = M0.rvoid();} else {var if_res1913 = M0.raise_argument_error($rjs_core.PrimitiveSymbol.make("string-suffix?"),$rjs_core.UString.make("string?"),str3366);}if_res1913;var let_result1914 = M0.values();if (M0.string_p(suffix3367)!==false) {var if_res1915 = M0.rvoid();} else {var if_res1915 = M0.raise_argument_error($rjs_core.PrimitiveSymbol.make("string-suffix?"),$rjs_core.UString.make("string?"),suffix3367);}if_res1915;var let_result1916 = M0.values();var l23368 = M0.string_length(suffix3367);var offset3369 = M0.string_length(str3366)-l23368;if (M0.not(M0.negative_p(offset3369))!==false) {var loop3370 = function(i_plus_o3371, i3372) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}var or_part3373 = M0.__eq_(i3372,l23368);if (or_part3373!==false) {var if_res1918 = or_part3373;} else {if (M0.char_eq__p(M0.string_ref(str3366,i_plus_o3371),M0.string_ref(suffix3367,i3372))!==false) {var if_res1917 = loop3370(M0.add1(i_plus_o3371),M0.add1(i3372));} else {var if_res1917 = false;}var if_res1918 = if_res1917;}return if_res1918;};var if_res1919 = loop3370(offset3369,0);} else {var if_res1919 = false;}return if_res1919;};var build_kmp_table = function(sub3374) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var L3375 = M0.string_length(sub3374);if (M0.__gt_(L3375,0)!==false) {var if_res1920 = build_kmp_table_by_partial(sub3374,L3375,false);} else {var if_res1920 = M0.make_vector(1,false);}return if_res1920;};var build_kmp_table_by_partial_by_first = function(sub3376, pos3377) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}var L3378 = M0.string_length(sub3376);if (M0.__gt_(L3378,0)!==false) {var if_res1921 = build_kmp_table_by_partial(sub3376,M0.min(L3378,2*pos3377),false);} else {var if_res1921 = M0.make_vector(1,false);}return if_res1921;};var build_kmp_table_by_partial_by_next = function(sub3379, pos3380, prev3381) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}var L3382 = M0.string_length(sub3379);if (M0.__gt_(L3382,0)!==false) {var if_res1922 = build_kmp_table_by_partial(sub3379,L3382,prev3381);} else {var if_res1922 = M0.make_vector(1,false);}return if_res1922;};var build_kmp_table_by_partial = function(sub3383, vL3384, prev3385) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}var L3386 = M0.string_length(sub3383);if (prev3385!==false) {var if_res1923 = M0.sub1(M0.vector_length(prev3385));} else {var if_res1923 = 1;}var pos3387 = if_res1923;if (prev3385!==false) {var if_res1924 = M0.unbox(M0.vector_ref(prev3385,M0.sub1(M0.vector_length(prev3385))));} else {var if_res1924 = 0;}var cnd3388 = if_res1924;var t3389 = M0.make_vector(M0.add1(vL3384),false);if (prev3385!==false) {var if_res1925 = M0.vector_copy_bang_(t3389,0,prev3385);} else {var if_res1925 = M0.rvoid();}if_res1925;var loop3390 = function(pos3391, cnd3392) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.__eq_(pos3391,L3386)!==false) {M0.vector_set_bang_(t3389,pos3391,cnd3392);var if_res1930 = t3389;} else {if (M0.__eq_(pos3391,vL3384)!==false) {M0.vector_set_bang_(t3389,pos3391,M0.box(cnd3392));var if_res1929 = t3389;} else {if (M0.char_eq__p(M0.string_ref(sub3383,pos3391),M0.string_ref(sub3383,cnd3392))!==false) {M0.vector_set_bang_(t3389,pos3391,M0.vector_ref(t3389,cnd3392));var if_res1928 = loop3390(M0.add1(pos3391),M0.add1(cnd3392));} else {M0.vector_set_bang_(t3389,pos3391,cnd3392);var loop23393 = function(pos3394, cnd3395) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.not(cnd3395)!==false) {var if_res1927 = loop3390(M0.add1(pos3394),0);} else {if (M0.char_eq__p(M0.string_ref(sub3383,pos3394),M0.string_ref(sub3383,cnd3395))!==false) {var if_res1926 = loop3390(M0.add1(pos3394),M0.add1(cnd3395));} else {var if_res1926 = loop23393(pos3394,M0.vector_ref(t3389,cnd3395));}var if_res1927 = if_res1926;}return if_res1927;};var if_res1928 = loop23393(pos3391,M0.vector_ref(t3389,cnd3392));}var if_res1929 = if_res1928;}var if_res1930 = if_res1929;}return if_res1930;};return loop3390(pos3387,cnd3388);};var string_contains_p = function(str3396, sub3397) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.string_p(str3396)!==false) {var if_res1931 = M0.rvoid();} else {var if_res1931 = M0.raise_argument_error($rjs_core.PrimitiveSymbol.make("string-contains?"),$rjs_core.UString.make("string?"),str3396);}if_res1931;var let_result1932 = M0.values();if (M0.string_p(sub3397)!==false) {var if_res1933 = M0.rvoid();} else {var if_res1933 = M0.raise_argument_error($rjs_core.PrimitiveSymbol.make("string-contains?"),$rjs_core.UString.make("string?"),sub3397);}if_res1933;var let_result1934 = M0.values();var L13398 = M0.string_length(str3396);var L23399 = M0.string_length(sub3397);var d3400 = L13398-L23399;var d_43401 = d3400-4;var or_part3402 = M0.__eq_(L23399,0);if (or_part3402!==false) {var if_res1941 = or_part3402;} else {var loop3403 = function(start3404, offset3405) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}var start_plus_offset3406 = start3404+offset3405;if (M0.__lt__eq_(start3404,d3400)!==false) {var or_part3407 = M0.__eq_(offset3405,L23399);if (or_part3407!==false) {var if_res1939 = or_part3407;} else {if (M0.char_eq__p(M0.string_ref(sub3397,offset3405),M0.string_ref(str3396,start_plus_offset3406))!==false) {var if_res1938 = loop3403(start3404,M0.add1(offset3405));} else {var or_part3408 = M0.__lt__eq_(offset3405,4);if (or_part3408!==false) {var if_res1935 = or_part3408;} else {var if_res1935 = M0.__gt__eq_(start3404,d_43401);}if (if_res1935!==false) {var if_res1937 = loop3403(M0.add1(start3404),0);} else {var t3409 = build_kmp_table_by_partial_by_first(sub3397,offset3405);var skip3410 = M0.vector_ref(t3409,offset3405);if (skip3410!==false) {var if_res1936 = string_contains_p_by_table(str3396,sub3397,start_plus_offset3406-skip3410,skip3410,t3409);} else {var if_res1936 = string_contains_p_by_table(str3396,sub3397,M0.add1(start_plus_offset3406),0,t3409);}var if_res1937 = if_res1936;}var if_res1938 = if_res1937;}var if_res1939 = if_res1938;}var if_res1940 = if_res1939;} else {var if_res1940 = false;}return if_res1940;};var if_res1941 = loop3403(0,0);}return if_res1941;};var string_contains_p_by_table = function(str3411, sub3412, start3413, offset3414, t3415) {if (arguments.length!==5) {throw $rjs_core.racketContractError("arity mismatch");} else {}var L13416 = M0.string_length(str3411);var L23417 = M0.string_length(sub3412);var d3418 = L13416-L23417;var or_part3419 = M0.__eq_(L23417,0);if (or_part3419!==false) {var if_res1948 = or_part3419;} else {var loop3420 = function(start3421, offset3422, t3423, tL3424) {if (arguments.length!==4) {throw $rjs_core.racketContractError("arity mismatch");} else {}var start_plus_offset3425 = start3421+offset3422;if (M0.__lt__eq_(start3421,d3418)!==false) {var or_part3426 = M0.__eq_(offset3422,L23417);if (or_part3426!==false) {var if_res1946 = or_part3426;} else {if (M0.char_eq__p(M0.string_ref(sub3412,offset3422),M0.string_ref(str3411,start_plus_offset3425))!==false) {var if_res1945 = loop3420(start3421,M0.add1(offset3422),t3423,tL3424);} else {if (M0.__lt_(offset3422,tL3424)!==false) {var skip3427 = M0.vector_ref(t3423,offset3422);if (skip3427!==false) {var if_res1942 = loop3420(start_plus_offset3425-skip3427,skip3427,t3423,tL3424);} else {var if_res1942 = loop3420(M0.add1(start_plus_offset3425),0,t3423,tL3424);}var if_res1944 = if_res1942;} else {var t3428 = build_kmp_table_by_partial_by_next(sub3412,offset3422,t3423);var tL3429 = M0.sub1(M0.vector_length(t3428));var skip3430 = M0.vector_ref(t3428,offset3422);if (skip3430!==false) {var if_res1943 = loop3420(start_plus_offset3425-skip3430,skip3430,t3428,tL3429);} else {var if_res1943 = loop3420(M0.add1(start_plus_offset3425),0,t3428,tL3429);}var if_res1944 = if_res1943;}var if_res1945 = if_res1944;}var if_res1946 = if_res1945;}var if_res1947 = if_res1946;} else {var if_res1947 = false;}return if_res1947;};var if_res1948 = loop3420(start3413,offset3414,t3415,M0.sub1(M0.vector_length(t3415)));}return if_res1948;};var __rjs_quoted__ = {};__rjs_quoted__.string_normalize_spaces = string_normalize_spaces;__rjs_quoted__.string_join9 = string_join9;__rjs_quoted__.string_replace39 = string_replace39;__rjs_quoted__.string_trim = string_trim;__rjs_quoted__.string_replace = string_replace;__rjs_quoted__.string_split = string_split;__rjs_quoted__.string_split25 = string_split25;__rjs_quoted__.string_join = string_join;__rjs_quoted__.string_trim18 = string_trim18;__rjs_quoted__.string_normalize_spaces33 = string_normalize_spaces33;export { __rjs_quoted__,string_contains_p,string_suffix_p,string_prefix_p,non_empty_string_p,string_replace,string_split,string_normalize_spaces,string_trim,string_join,string_append_times_ };